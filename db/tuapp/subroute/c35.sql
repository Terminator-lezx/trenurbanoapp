delete from ref.subroute_new where route = 'C35' and direction = 'SAGRADO_CORAZON';with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.086833 18.457479,-66.086564 18.457635,-66.086367 18.457914,-66.086287 18.458211,-66.086282 18.458681,-66.086494 18.460091,-66.086703 18.460694,-66.08687 18.460976,-66.0872 18.46118,-66.087463 18.461255,-66.08761 18.46123,-66.087684 18.461166,-66.087715 18.461064,-66.087687 18.460976,-66.087582 18.460748,-66.087401 18.460096,-66.087141 18.459211,-66.086819 18.457978,-66.086661 18.457715,-66.086429 18.457504,-66.085943 18.457115,-66.085632 18.456908,-66.083766 18.456045,-66.083062 18.455715,-66.08159 18.455061,-66.080462 18.454522,-66.078596 18.453278,-66.078209 18.45305,-66.077389 18.452648,-66.076094 18.451859,-66.074427 18.450763,-66.073678 18.450194,-66.072083 18.448969,-66.070695 18.447894,-66.069514 18.446971,-66.067773 18.445681,-66.065503 18.44392,-66.063773 18.442571,-66.062671 18.441665,-66.061692 18.440576,-66.059866 18.43849,-66.059584 18.438055,-66.05949 18.437838,-66.0594 18.437363,-66.059315 18.436143,-66.059284 18.435466,-66.059391 18.435342,-66.059552 18.435317,-66.059821 18.435336)'), 32161) geom) insert into ref.subroute_new(route, direction, geom) select 'C35','SAGRADO_CORAZON', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute_new where route = 'C35' and direction = 'CONVENCIONES';with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.060101 18.435355,-66.060336 18.435405,-66.060381 18.435428,-66.060459 18.435582,-66.060453 18.435681,-66.060374 18.436005,-66.060246 18.436532,-66.060182 18.437034,-66.060208 18.437279,-66.06025 18.437505,-66.060536 18.437935,-66.061114 18.438629,-66.061438 18.439005,-66.063003 18.440835,-66.063701 18.441427,-66.064269 18.441886,-66.064994 18.442276,-66.066546 18.442901,-66.067512 18.443334,-66.069392 18.44422,-66.069828 18.444494,-66.07035 18.444896,-66.07117 18.44553,-66.071413 18.445747,-66.07309 18.447019,-66.073627 18.447444,-66.075573 18.448724,-66.075698 18.448754,-66.075789 18.448697,-66.076566 18.44744,-66.076968 18.446789,-66.077425 18.447075,-66.077844 18.447295,-66.078387 18.447381,-66.079415 18.447917,-66.081021 18.448813,-66.081151 18.448807,-66.08123 18.448697,-66.08173 18.44711,-66.08177 18.446987,-66.081807 18.445858,-66.08188 18.445668,-66.081946 18.445634,-66.08201 18.44563,-66.082349 18.445926,-66.082654 18.446309,-66.082768 18.44652,-66.082869 18.446763,-66.082973 18.447168,-66.083006 18.447623,-66.082958 18.448061,-66.08286 18.448352,-66.082651 18.448841,-66.082436 18.449313,-66.082354 18.449391,-66.082152 18.449443,-66.081997 18.449508,-66.081896 18.449624,-66.081793 18.449878,-66.081209 18.451256,-66.081096 18.451583,-66.081126 18.451656,-66.081349 18.45176,-66.083119 18.452189,-66.08356 18.452299,-66.085112 18.453004,-66.086551 18.453659,-66.087138 18.453929,-66.087356 18.454088,-66.087475 18.454297,-66.087509 18.454511,-66.087571 18.455423,-66.087653 18.455678,-66.08806 18.456013,-66.088354 18.456211,-66.088359 18.456321,-66.088012 18.456785,-66.087585 18.457182,-66.087203 18.45741,-66.086833 18.457479)'), 32161) geom) insert into ref.subroute_new(route, direction, geom) select 'C35','CONVENCIONES', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute_stop where route = 'C35' and direction = 'SAGRADO_CORAZON'; insert into ref.subroute_stop (stop, stop_order, route, direction) values (286, 0, 'C35', 'SAGRADO_CORAZON'),(287, 1, 'C35', 'SAGRADO_CORAZON'),(288, 2, 'C35', 'SAGRADO_CORAZON'),(289, 3, 'C35', 'SAGRADO_CORAZON'),(290, 4, 'C35', 'SAGRADO_CORAZON'),(291, 5, 'C35', 'SAGRADO_CORAZON'),(44, 6, 'C35', 'SAGRADO_CORAZON'),(45, 7, 'C35', 'SAGRADO_CORAZON'),(46, 8, 'C35', 'SAGRADO_CORAZON'),(47, 9, 'C35', 'SAGRADO_CORAZON'),(48, 10, 'C35', 'SAGRADO_CORAZON'),(49, 11, 'C35', 'SAGRADO_CORAZON'),(50, 12, 'C35', 'SAGRADO_CORAZON'),(51, 13, 'C35', 'SAGRADO_CORAZON'),(52, 14, 'C35', 'SAGRADO_CORAZON'),(560, 15, 'C35', 'SAGRADO_CORAZON');
delete from ref.subroute_stop where route = 'C35' and direction = 'CONVENCIONES'; insert into ref.subroute_stop (stop, stop_order, route, direction) values (510, 0, 'C35', 'CONVENCIONES'),(37, 1, 'C35', 'CONVENCIONES'),(38, 2, 'C35', 'CONVENCIONES'),(39, 3, 'C35', 'CONVENCIONES'),(40, 4, 'C35', 'CONVENCIONES'),(41, 5, 'C35', 'CONVENCIONES'),(42, 6, 'C35', 'CONVENCIONES'),(43, 7, 'C35', 'CONVENCIONES'),(449, 8, 'C35', 'CONVENCIONES'),(535, 9, 'C35', 'CONVENCIONES'),(533, 10, 'C35', 'CONVENCIONES'),(445, 11, 'C35', 'CONVENCIONES'),(446, 12, 'C35', 'CONVENCIONES'),(447, 13, 'C35', 'CONVENCIONES'),(1606, 14, 'C35', 'CONVENCIONES');
