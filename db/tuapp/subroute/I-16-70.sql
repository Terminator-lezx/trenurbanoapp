delete from ref.subroute where route = 'I-16-70' and direction = 'PDA_22';with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-65.991778 18.421301,-65.991527 18.421361,-65.99146 18.421403,-65.988757 18.422034,-65.988709 18.422051,-65.988679 18.422085,-65.988669 18.422142,-65.988675 18.422178,-65.988702 18.422256,-65.98884 18.422744,-65.988924 18.423125,-65.988962 18.423327,-65.988978 18.423409,-65.989334 18.425436,-65.989377 18.425618,-65.989696 18.426836,-65.98972 18.426897,-65.989769 18.427006,-65.989793 18.427049,-65.990094 18.427567,-65.990235 18.427788,-65.990304 18.427834,-65.990345 18.427855,-65.990455 18.427884,-65.990583 18.427938,-65.990665 18.428003,-65.990727 18.428082,-65.990825 18.428202,-65.991194 18.428677,-65.99142 18.428887,-65.991597 18.429012,-65.991873 18.429172,-65.992778 18.42947,-65.993726 18.429743,-65.995745 18.43035,-65.998254 18.431086,-65.998791 18.431222,-65.999195 18.431313,-65.999415 18.431343,-65.999545 18.43136,-65.999914 18.431376,-66.000417 18.431464,-66.000894 18.431536,-66.001421 18.431593,-66.001983 18.431618,-66.003028 18.431631,-66.003355 18.431623,-66.003415 18.431598,-66.003445 18.431496,-66.003715 18.429071,-66.003736 18.429001,-66.003805 18.428969,-66.005826 18.429158,-66.008257 18.429397,-66.008956 18.42943,-66.011738 18.429583,-66.011928 18.429581,-66.012505 18.42946,-66.013489 18.429251,-66.013596 18.429211,-66.013617 18.429126,-66.013244 18.427474,-66.013205 18.427408,-66.013101 18.427346,-66.01282 18.427338,-66.011828 18.427354,-66.01165 18.427326,-66.011468 18.427289,-66.011157 18.427165,-66.010906 18.427112,-66.010006 18.427112,-66.00827 18.427112,-66.008093 18.427125,-66.007997 18.427186,-66.007959 18.427334,-66.008035 18.430569,-66.008169 18.431029,-66.008451 18.431448,-66.008841 18.431718,-66.0095 18.431881,-66.015178 18.432203,-66.017081 18.432442,-66.017971 18.432759,-66.0185 18.433057,-66.018864 18.43336,-66.019172 18.433652,-66.020125 18.435002,-66.021088 18.436405,-66.021446 18.436952,-66.021926 18.43782,-66.02193 18.437967,-66.0219 18.438058,-66.021835 18.438148,-66.021731 18.438238,-66.01781 18.440027,-66.01627 18.440678,-66.015679 18.440807,-66.01519 18.440876,-66.014715 18.441001,-66.013863 18.441444,-66.013545 18.441672,-66.013519 18.441763,-66.013541 18.441824,-66.01361 18.441894,-66.013723 18.441939,-66.013995 18.44196,-66.014326 18.441902,-66.015984 18.442084,-66.017689 18.442403,-66.019084 18.442398,-66.019913 18.44235,-66.020502 18.442323,-66.021514 18.442351,-66.022197 18.442459,-66.023255 18.442715,-66.026572 18.443552,-66.029472 18.444353,-66.031575 18.445035,-66.032026 18.445207,-66.032436 18.445429,-66.037316 18.449072,-66.037621 18.449354,-66.037926 18.449744,-66.039089 18.451517,-66.039171 18.451615,-66.039249 18.451679,-66.03941 18.451721,-66.039553 18.451712,-66.039895 18.451631,-66.041295 18.451075,-66.041812 18.450701,-66.042184 18.450488,-66.043094 18.449987,-66.044371 18.449307,-66.04463 18.449202,-66.044798 18.44917,-66.045038 18.449174,-66.048787 18.449626,-66.051563 18.449988,-66.051975 18.450042,-66.052309 18.450125,-66.05269 18.450287,-66.053579 18.450644,-66.054586 18.450928,-66.055566 18.451077,-66.056299 18.451143,-66.057304 18.451246,-66.058184 18.451345,-66.059046 18.45148,-66.060576 18.451673,-66.063748 18.452098,-66.063907 18.452067,-66.064007 18.451992,-66.065953 18.44998,-66.066262 18.449466,-66.068243 18.446271,-66.068312 18.446213,-66.068381 18.446213,-66.068472 18.446271,-66.071198 18.448333,-66.0726 18.449425,-66.073777 18.450332,-66.074341 18.450725,-66.074458 18.450732,-66.074544 18.450668,-66.074814 18.450179,-66.075414 18.449163,-66.075612 18.448831,-66.07562 18.448715,-66.075553 18.448652,-66.074934 18.448257,-66.074245 18.447812,-66.073692 18.447429,-66.073133 18.447022,-66.072547 18.446588,-66.071745 18.445952,-66.071046 18.445381,-66.070575 18.445008,-66.070083 18.444571,-66.069736 18.444378,-66.069555 18.44429,-66.069458 18.444306,-66.06938 18.444375,-66.06907 18.445058,-66.068648 18.445772,-66.068568 18.445876)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'I-16-70','PDA_22', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute where route = 'I-16-70' and direction = 'CAROLINA';with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.068545 18.445922,-66.068404 18.446116,-66.068222 18.446182,-66.068036 18.44647,-66.065975 18.449736,-66.065667 18.450152,-66.063915 18.451991,-66.063822 18.452031,-66.063695 18.452045,-66.062901 18.451945,-66.060596 18.451635,-66.058522 18.451363,-66.057319 18.451209,-66.056314 18.451111,-66.055571 18.451046,-66.054587 18.450897,-66.05357 18.450614,-66.05269 18.450257,-66.052332 18.450097,-66.051947 18.450007,-66.051586 18.44995,-66.050883 18.449855,-66.047437 18.449383,-66.045047 18.449131,-66.044786 18.449124,-66.044594 18.449154,-66.044437 18.44921,-66.043657 18.449633,-66.043055 18.449949,-66.042066 18.450498,-66.041511 18.450864,-66.041236 18.451046,-66.040669 18.451283,-66.039889 18.451579,-66.039668 18.451648,-66.039486 18.451668,-66.039374 18.451656,-66.039257 18.451615,-66.039137 18.451488,-66.03816 18.450022,-66.037576 18.4492,-66.03704 18.448777,-66.033886 18.446384,-66.032708 18.44551,-66.032363 18.445294,-66.031255 18.444841,-66.02987 18.444409,-66.027819 18.443834,-66.026284 18.443377,-66.024078 18.442851,-66.022942 18.442548,-66.022035 18.442365,-66.021455 18.442284,-66.020668 18.442267,-66.0199 18.442296,-66.019065 18.44234,-66.018373 18.442333,-66.017841 18.442337,-66.017532 18.442296,-66.016044 18.442003,-66.014821 18.441769,-66.014553 18.441666,-66.014466 18.441576,-66.014449 18.441465,-66.014475 18.441338,-66.014574 18.441212,-66.014783 18.441114,-66.016098 18.440859,-66.017088 18.440534,-66.022066 18.438346,-66.022689 18.438097,-66.022694 18.438095,-66.022694 18.438095,-66.022992 18.438523,-66.023191 18.438679,-66.02339 18.438716,-66.023598 18.438675,-66.023736 18.438552,-66.023805 18.438432,-66.023823 18.438256,-66.023758 18.438071,-66.023667 18.437969,-66.023507 18.437886,-66.023256 18.43787,-66.022702 18.438091,-66.022694 18.438095,-66.021643 18.436586,-66.021071 18.43576,-66.020444 18.434854,-66.019835 18.434026,-66.019328 18.433348,-66.018391 18.432525,-66.018169 18.432424,-66.017673 18.43224,-66.016903 18.432051,-66.016163 18.431916,-66.015474 18.431858,-66.015401 18.431821,-66.015358 18.431723,-66.015127 18.430813,-66.014751 18.42905,-66.014666 18.428989,-66.014573 18.428979,-66.014431 18.428996,-66.013664 18.429172,-66.012356 18.429445,-66.011934 18.429537,-66.011709 18.429535,-66.008548 18.42937,-66.008256 18.429363,-66.007624 18.429293,-66.00756 18.429311,-66.007543 18.429377,-66.007554 18.430986,-66.007525 18.431039,-66.005972 18.431061,-66.005951 18.430997,-66.005948 18.430875,-66.005912 18.430814,-66.005702 18.430672,-66.005575 18.430655,-66.003422 18.430443,-66.002344 18.430351,-66.002103 18.430434,-66.001944 18.430605,-66.001903 18.430708,-66.001788 18.431415,-66.001763 18.431526,-66.001732 18.431579,-66.001395 18.431567,-66.0011 18.43153,-65.999917 18.431353,-65.99961 18.431337,-65.999488 18.431332,-65.999363 18.431312,-65.999202 18.431283,-65.998795 18.431194,-65.99825 18.431057,-65.994675 18.429993,-65.993155 18.429557,-65.991898 18.429161,-65.991702 18.429037,-65.991563 18.428958,-65.991398 18.428829,-65.991223 18.428658,-65.99104 18.42843,-65.990865 18.428194,-65.990697 18.427985,-65.990617 18.427918,-65.990474 18.427849,-65.99035 18.427825,-65.990284 18.42778,-65.990231 18.427716,-65.989816 18.427027,-65.989763 18.426922,-65.989729 18.426835,-65.989411 18.425611,-65.989372 18.425432,-65.989019 18.423478,-65.988991 18.423323,-65.988848 18.422662,-65.988721 18.422224,-65.988713 18.422185,-65.988712 18.422151,-65.988714 18.422122,-65.988735 18.422091,-65.98877 18.42207,-65.98881 18.422059,-65.99128 18.421495,-65.991794 18.421392)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'I-16-70','CAROLINA', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute_stop where route = 'I-16-70' and direction = 'CAROLINA'; insert into ref.subroute_stop (stop, stop_order, route, direction) values (292, 0, 'I-16-70', 'CAROLINA'),(293, 1, 'I-16-70', 'CAROLINA'),(294, 2, 'I-16-70', 'CAROLINA'),(295, 3, 'I-16-70', 'CAROLINA'),(296, 4, 'I-16-70', 'CAROLINA'),(297, 5, 'I-16-70', 'CAROLINA'),(298, 6, 'I-16-70', 'CAROLINA'),(299, 7, 'I-16-70', 'CAROLINA'),(300, 8, 'I-16-70', 'CAROLINA'),(301, 9, 'I-16-70', 'CAROLINA'),(302, 10, 'I-16-70', 'CAROLINA'),(303, 11, 'I-16-70', 'CAROLINA'),(304, 12, 'I-16-70', 'CAROLINA'),(305, 13, 'I-16-70', 'CAROLINA'),(306, 14, 'I-16-70', 'CAROLINA'),(307, 15, 'I-16-70', 'CAROLINA'),(308, 16, 'I-16-70', 'CAROLINA'),(309, 17, 'I-16-70', 'CAROLINA'),(310, 18, 'I-16-70', 'CAROLINA'),(311, 19, 'I-16-70', 'CAROLINA'),(312, 20, 'I-16-70', 'CAROLINA'),(313, 21, 'I-16-70', 'CAROLINA'),(314, 22, 'I-16-70', 'CAROLINA'),(315, 23, 'I-16-70', 'CAROLINA'),(316, 24, 'I-16-70', 'CAROLINA'),(317, 25, 'I-16-70', 'CAROLINA'),(319, 26, 'I-16-70', 'CAROLINA'),(320, 27, 'I-16-70', 'CAROLINA'),(321, 28, 'I-16-70', 'CAROLINA'),(322, 29, 'I-16-70', 'CAROLINA'),(323, 30, 'I-16-70', 'CAROLINA'),(324, 31, 'I-16-70', 'CAROLINA'),(325, 32, 'I-16-70', 'CAROLINA'),(326, 33, 'I-16-70', 'CAROLINA'),(327, 34, 'I-16-70', 'CAROLINA'),(328, 35, 'I-16-70', 'CAROLINA'),(329, 36, 'I-16-70', 'CAROLINA'),(330, 37, 'I-16-70', 'CAROLINA');
delete from ref.subroute_stop where route = 'I-16-70' and direction = 'PDA_22'; insert into ref.subroute_stop (stop, stop_order, route, direction) values (220, 0, 'I-16-70', 'PDA_22'),(221, 1, 'I-16-70', 'PDA_22'),(222, 2, 'I-16-70', 'PDA_22'),(223, 3, 'I-16-70', 'PDA_22'),(224, 4, 'I-16-70', 'PDA_22'),(225, 5, 'I-16-70', 'PDA_22'),(226, 6, 'I-16-70', 'PDA_22'),(227, 7, 'I-16-70', 'PDA_22'),(228, 8, 'I-16-70', 'PDA_22'),(229, 9, 'I-16-70', 'PDA_22'),(230, 10, 'I-16-70', 'PDA_22'),(231, 11, 'I-16-70', 'PDA_22'),(232, 12, 'I-16-70', 'PDA_22'),(233, 13, 'I-16-70', 'PDA_22'),(234, 14, 'I-16-70', 'PDA_22'),(235, 15, 'I-16-70', 'PDA_22'),(236, 16, 'I-16-70', 'PDA_22'),(237, 17, 'I-16-70', 'PDA_22'),(238, 18, 'I-16-70', 'PDA_22'),(239, 19, 'I-16-70', 'PDA_22'),(240, 20, 'I-16-70', 'PDA_22'),(241, 21, 'I-16-70', 'PDA_22'),(242, 22, 'I-16-70', 'PDA_22'),(243, 23, 'I-16-70', 'PDA_22'),(244, 24, 'I-16-70', 'PDA_22'),(245, 25, 'I-16-70', 'PDA_22'),(246, 26, 'I-16-70', 'PDA_22'),(247, 27, 'I-16-70', 'PDA_22'),(248, 28, 'I-16-70', 'PDA_22'),(249, 29, 'I-16-70', 'PDA_22'),(250, 30, 'I-16-70', 'PDA_22'),(251, 31, 'I-16-70', 'PDA_22'),(252, 32, 'I-16-70', 'PDA_22'),(253, 33, 'I-16-70', 'PDA_22'),(254, 34, 'I-16-70', 'PDA_22'),(255, 35, 'I-16-70', 'PDA_22'),(256, 36, 'I-16-70', 'PDA_22'),(257, 37, 'I-16-70', 'PDA_22'),(258, 38, 'I-16-70', 'PDA_22'),(259, 39, 'I-16-70', 'PDA_22'),(260, 40, 'I-16-70', 'PDA_22'),(261, 41, 'I-16-70', 'PDA_22'),(262, 42, 'I-16-70', 'PDA_22');
