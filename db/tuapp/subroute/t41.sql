delete from ref.subroute_new where route = 'T41' and direction = 'ITURREGUI'; with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.055375 18.410603,-66.055323 18.410609,-66.055284 18.41058,-66.055261 18.410517,-66.055174 18.409958,-66.055003 18.408792,-66.05502 18.408731,-66.055076 18.408664,-66.055118 18.408593,-66.055141 18.4085,-66.055147 18.408476,-66.055115 18.408257,-66.055124 18.408204,-66.055142 18.408157,-66.055213 18.408131,-66.056304 18.408111,-66.056416 18.408161,-66.056452 18.408219,-66.056462 18.408326,-66.056555 18.410316,-66.056572 18.41068,-66.056565 18.410729,-66.056545 18.410753,-66.056486 18.41079,-66.055376 18.411326,-66.054333 18.411853,-66.054217 18.411902,-66.05411 18.411947,-66.053821 18.411989,-66.052751 18.41206,-66.052025 18.412109,-66.050821 18.412263,-66.050642 18.412355,-66.0502 18.412623,-66.050105 18.412648,-66.050005 18.41264,-66.048986 18.412454,-66.048102 18.4123,-66.047251 18.412144,-66.04624 18.411965,-66.04508 18.411758,-66.04374 18.411529,-66.043629 18.41149,-66.043599 18.411449,-66.043601 18.411363,-66.043782 18.410663,-66.044019 18.409677,-66.04407 18.40943,-66.044078 18.409323,-66.044076 18.408822,-66.043994 18.406768,-66.043896 18.405728,-66.043667 18.403275,-66.043543 18.402152,-66.043518 18.401862,-66.043516 18.401714,-66.043541 18.40019,-66.043539 18.398871,-66.043518 18.3986,-66.043509 18.398498,-66.043462 18.398401,-66.043397 18.39836,-66.043297 18.398338,-66.042523 18.398304,-66.041253 18.398269,-66.041108 18.398277,-66.040954 18.39828,-66.040813 18.398304,-66.040692 18.398353,-66.04031 18.398515,-66.040229 18.398539,-66.04015 18.398546,-66.040074 18.398547,-66.038275 18.398356,-66.03497 18.39802,-66.034413 18.397966,-66.033432 18.397863,-66.032424 18.397758,-66.031604 18.397662,-66.031002 18.397605,-66.030972 18.397605,-66.030038 18.39751,-66.02945 18.397444,-66.029426 18.397444,-66.028481 18.397354,-66.027886 18.397285,-66.02628 18.397116,-66.025625 18.397049,-66.02489 18.396962,-66.02426 18.396899,-66.024081 18.396862,-66.024014 18.396811,-66.023978 18.39674,-66.02394 18.396589,-66.023897 18.396492,-66.023862 18.396448,-66.023792 18.396426,-66.023676 18.39642,-66.023563 18.396438,-66.022783 18.396564,-66.022451 18.396609,-66.022087 18.396648,-66.021787 18.396682,-66.021374 18.396701,-66.020888 18.396719,-66.019905 18.396753,-66.018931 18.396787,-66.018424 18.396822,-66.018069 18.396856,-66.017925 18.396863,-66.017854 18.396869,-66.017816 18.396901,-66.017777 18.396955,-66.017775 18.397026,-66.017785 18.397121,-66.01788 18.397803,-66.017958 18.398314,-66.018205 18.399673,-66.01837 18.400569,-66.018392 18.40083,-66.018797 18.403152,-66.019005 18.404396,-66.019062 18.404608,-66.019097 18.404752,-66.019119 18.404823,-66.019143 18.40487,-66.019171 18.404893,-66.019288 18.404905,-66.02139 18.404847,-66.02312 18.404798,-66.024209 18.404754,-66.025107 18.404742,-66.025911 18.404711,-66.026956 18.404682,-66.027574 18.40465,-66.027632 18.404662,-66.027661 18.404689,-66.027667 18.404768,-66.027715 18.406521,-66.027709 18.406601,-66.027698 18.406651,-66.027662 18.406665,-66.027605 18.406669,-66.024729 18.40677,-66.023116 18.406816,-66.021799 18.406848,-66.020142 18.406901,-66.020067 18.406906,-66.020024 18.406923,-66.019994 18.406954,-66.019973 18.407001,-66.019971 18.40705,-66.019992 18.407103,-66.020351 18.40806,-66.020478 18.408405,-66.020497 18.408595,-66.020554 18.40934,-66.020584 18.409744,-66.0206 18.410574,-66.02059 18.411273,-66.020544 18.41179,-66.020506 18.4122,-66.020428 18.412856,-66.020413 18.412929,-66.020391 18.412964,-66.020359 18.412978,-66.020316 18.412982,-66.020192 18.412978,-66.019112 18.412899,-66.018241 18.412846,-66.01734 18.412819,-66.016324 18.412776,-66.015322 18.41274,-66.014289 18.412696,-66.013681 18.412657,-66.013454 18.412629,-66.013266 18.412588,-66.013018 18.412503,-66.012831 18.412411,-66.012531 18.412222,-66.012127 18.4119,-66.011287 18.411199,-66.010541 18.410631,-66.010392 18.410504,-66.009568 18.409889,-66.009242 18.409646,-66.008763 18.409278,-66.007923 18.408635,-66.007846 18.408543,-66.007842 18.408484,-66.007863 18.408443,-66.009364 18.406608,-66.009477 18.406523,-66.009585 18.40648,-66.009686 18.406459,-66.009838 18.406452,-66.01092 18.406521,-66.010985 18.406507,-66.011021 18.406446,-66.011041 18.406398,-66.011043 18.4059,-66.011031 18.404948,-66.011003 18.404883,-66.010928 18.40484,-66.010784 18.40483,-66.003902 18.404424,-66.003797 18.404426,-66.003701 18.404472,-66.003647 18.40454,-66.003083 18.405412,-66.002233 18.406733,-66.001441 18.407977,-65.999994 18.410241,-65.999078 18.411566,-65.998722 18.411984,-65.997798 18.412891,-65.996526 18.413797,-65.995136 18.414473,-65.993445 18.414972,-65.992753 18.415117,-65.992674 18.415216,-65.992685 18.415283,-65.993221 18.41755,-65.993968 18.420669,-65.993962 18.420758,-65.993894 18.420811,-65.992453 18.421168,-65.991503 18.421404,-65.991463 18.421447,-65.991458 18.421527,-65.991573 18.421938,-65.991621 18.42198,-65.991896 18.421921,-65.992317 18.421803)'), 32161) geom) insert into ref.subroute_new(route, direction, geom) select 'T41','ITURREGUI', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute_new where route = 'T41' and direction = 'PINERO'; with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-65.992364 18.421799,-65.992556 18.4217,-65.992479 18.421362,-65.992479 18.421263,-65.992544 18.421204,-65.993932 18.42086,-65.994017 18.420785,-65.994023 18.420651,-65.993279 18.417538,-65.992737 18.41532,-65.992728 18.415231,-65.992793 18.415159,-65.99346 18.415022,-65.994195 18.414845,-65.995153 18.414531,-65.99656 18.413846,-65.997034 18.413529,-65.997837 18.412934,-65.9989 18.411893,-65.999895 18.410515,-66.000059 18.410268,-66.00309 18.405557,-66.003433 18.405031,-66.003627 18.404719,-66.003705 18.404579,-66.003786 18.404502,-66.003852 18.404479,-66.004019 18.404494,-66.008302 18.404735,-66.010907 18.404898,-66.010969 18.404924,-66.010995 18.405014,-66.011 18.406231,-66.011007 18.406336,-66.010992 18.40643,-66.01095 18.40647,-66.010866 18.40647,-66.010088 18.406431,-66.009824 18.406416,-66.009618 18.406434,-66.009476 18.406485,-66.009332 18.406597,-66.007784 18.408458,-66.007756 18.408516,-66.007695 18.408644,-66.007699 18.408705,-66.007719 18.408769,-66.007823 18.408856,-66.010149 18.410591,-66.010293 18.410704,-66.010341 18.410742,-66.01044 18.410818,-66.011607 18.411657,-66.012251 18.4121,-66.01269 18.412392,-66.012961 18.412538,-66.013277 18.412644,-66.013513 18.412696,-66.013772 18.412718,-66.014408 18.412745,-66.017032 18.412851,-66.018648 18.412916,-66.019255 18.412955,-66.019741 18.412985,-66.020276 18.413031,-66.020338 18.413037,-66.020388 18.413029,-66.020427 18.413003,-66.020461 18.412953,-66.020472 18.412872,-66.020539 18.412364,-66.020587 18.411915,-66.020643 18.411289,-66.02065 18.410819,-66.02064 18.409658,-66.020584 18.408981,-66.020551 18.408492,-66.020508 18.408314,-66.020012 18.407028,-66.020012 18.406991,-66.020031 18.40696,-66.020077 18.406933,-66.020158 18.406927,-66.021041 18.406894,-66.022501 18.406852,-66.024312 18.406805,-66.025868 18.406753,-66.027652 18.406697,-66.027726 18.406683,-66.027743 18.406645,-66.027749 18.406505,-66.027714 18.405165,-66.0277 18.404683,-66.027684 18.404648,-66.027648 18.404612,-66.027536 18.404616,-66.026503 18.404641,-66.025343 18.404685,-66.024039 18.404716,-66.022923 18.404755,-66.021792 18.404785,-66.020033 18.404849,-66.019305 18.404868,-66.019242 18.404866,-66.019209 18.404851,-66.019174 18.404812,-66.019144 18.404746,-66.019028 18.404177,-66.01872 18.402438,-66.018542 18.401364,-66.018233 18.399527,-66.017986 18.398178,-66.017948 18.397951,-66.017845 18.397127,-66.017853 18.39704,-66.01789 18.396989,-66.017957 18.396976,-66.018381 18.396975,-66.020264 18.396907,-66.021225 18.396868,-66.021753 18.396839,-66.02286 18.396707,-66.023565 18.396593,-66.023805 18.396544,-66.023858 18.396561,-66.023893 18.396612,-66.023952 18.396775,-66.023996 18.396847,-66.024098 18.396904,-66.024334 18.396953,-66.025325 18.397053,-66.025882 18.397114,-66.02737 18.397258,-66.028452 18.397389,-66.029438 18.397474,-66.030551 18.397589,-66.031322 18.397672,-66.033533 18.397911,-66.034623 18.398026,-66.03678 18.398241,-66.038321 18.398408,-66.039862 18.398575,-66.040144 18.398605,-66.040244 18.398599,-66.040361 18.398569,-66.040574 18.398488,-66.040733 18.398419,-66.040888 18.398363,-66.041256 18.398336,-66.042558 18.398367,-66.04326 18.398408,-66.043343 18.398407,-66.043391 18.398422,-66.043411 18.398453,-66.043414 18.398512,-66.043397 18.399742,-66.04337 18.400881,-66.043335 18.401842,-66.043347 18.402057,-66.043512 18.403653,-66.043577 18.404323,-66.043695 18.405427,-66.043763 18.406136,-66.043795 18.406813,-66.043818 18.407324,-66.043863 18.408823,-66.043882 18.409492,-66.043863 18.409619,-66.04383 18.409762,-66.043549 18.410831,-66.04347 18.411334,-66.043473 18.411428,-66.043496 18.411482,-66.043558 18.411531,-66.043647 18.411557,-66.044696 18.411746,-66.047914 18.412311,-66.04999 18.412685,-66.050091 18.412683,-66.050168 18.41267,-66.050243 18.412644,-66.05055 18.412467,-66.050769 18.412329,-66.050846 18.412296,-66.050986 18.412281,-66.052103 18.412144,-66.053645 18.412057,-66.053983 18.412039,-66.054091 18.412026,-66.054138 18.412013,-66.054193 18.411966,-66.054216 18.411913,-66.054217 18.411902,-66.05422 18.411845,-66.054202 18.411769,-66.05354 18.410015,-66.052912 18.408399,-66.052891 18.408346,-66.052891 18.408313,-66.052911 18.408286,-66.05296 18.408275,-66.053121 18.408281,-66.053201 18.408277,-66.053267 18.408258,-66.053445 18.408243,-66.054903 18.408169,-66.055025 18.408173,-66.055073 18.408217,-66.0551 18.408256,-66.055141 18.4085,-66.055394 18.410031,-66.055464 18.410446,-66.055475 18.410544,-66.055446 18.410586,-66.055375 18.410603,-66.055375 18.410603)'), 32161) geom) insert into ref.subroute_new(route, direction, geom) select 'T41','PINERO', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
