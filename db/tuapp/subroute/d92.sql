delete from ref.subroute where route = 'D92' and direction = 'BAYAMON'; with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.169851 18.370591,-66.169606 18.370378,-66.169542 18.370375,-66.169455 18.370432,-66.169312 18.370546,-66.169114 18.3706,-66.16845 18.370735,-66.168039 18.370821,-66.167941 18.370821,-66.167877 18.3708,-66.167855 18.37071,-66.167697 18.370322,-66.167525 18.370045,-66.167307 18.369799,-66.167068 18.369599,-66.166774 18.369424,-66.165332 18.368863,-66.164466 18.368521,-66.164198 18.368365,-66.163606 18.368007,-66.163198 18.367665,-66.162728 18.367188,-66.162494 18.366941,-66.162406 18.366912,-66.16233 18.366946,-66.161895 18.36733,-66.160442 18.368677,-66.159842 18.369237,-66.158211 18.370785,-66.157084 18.37185,-66.156077 18.372792,-66.155673 18.373181,-66.155549 18.373331,-66.15517 18.374026,-66.154904 18.374635,-66.154325 18.376126,-66.153918 18.377116,-66.153615 18.37772,-66.153358 18.378125,-66.153168 18.378398,-66.1528 18.378894,-66.152214 18.379485,-66.151861 18.379793,-66.150562 18.38073,-66.15024 18.380919,-66.149353 18.381395,-66.148717 18.381665,-66.147942 18.381956,-66.147268 18.382154,-66.146672 18.382318,-66.144928 18.382787,-66.143248 18.383191,-66.14316 18.383235,-66.143153 18.383309,-66.143253 18.383484,-66.143853 18.384151,-66.144496 18.384944,-66.145176 18.385802,-66.145263 18.385907,-66.145538 18.386302,-66.145985 18.386942,-66.146261 18.387262,-66.146489 18.387525,-66.14672 18.388042,-66.147126 18.389226,-66.147456 18.390276,-66.147635 18.390743,-66.147761 18.390886,-66.147918 18.390997,-66.148315 18.391142,-66.149716 18.391614,-66.150607 18.392034,-66.150801 18.392155,-66.152306 18.393424,-66.152711 18.393782,-66.152806 18.393925,-66.152886 18.394116,-66.153111 18.394785,-66.153579 18.396443,-66.153659 18.396758,-66.153664 18.397058,-66.153443 18.400306,-66.153453 18.400767,-66.153453 18.401198,-66.153453 18.401309,-66.153502 18.401363,-66.153551 18.401402,-66.153636 18.40143,-66.154221 18.401547,-66.155071 18.401679,-66.155237 18.401697,-66.15568 18.401674,-66.155816 18.401663,-66.155847 18.401617,-66.155852 18.401538,-66.155852 18.401398,-66.155709 18.400671,-66.155636 18.400584,-66.155507 18.400549,-66.155374 18.400559)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'D92','BAYAMON', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute where route = 'D92' and direction = 'MAGNOLIA'; with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.155357 18.400561,-66.155011 18.400621,-66.154845 18.400664,-66.154736 18.400754,-66.154721 18.400879,-66.154774 18.401089,-66.154811 18.401354,-66.154781 18.40145,-66.154732 18.401486,-66.154594 18.401475,-66.153736 18.401357,-66.153653 18.401314,-66.153612 18.401243,-66.153616 18.401125,-66.153898 18.3974,-66.153913 18.396916,-66.153884 18.396231,-66.153722 18.395446,-66.153576 18.395041,-66.153177 18.393929,-66.153132 18.393642,-66.153132 18.393297,-66.153185 18.392873,-66.15326 18.392673,-66.153339 18.392494,-66.153425 18.39243,-66.153583 18.392384,-66.153738 18.392384,-66.153873 18.392451,-66.153948 18.392505,-66.154005 18.392637,-66.153997 18.392762,-66.153979 18.392851,-66.153907 18.392941,-66.153817 18.392998,-66.15326 18.393073,-66.152744 18.393091,-66.152382 18.393069,-66.152036 18.393001,-66.151889 18.392926,-66.151408 18.392548,-66.150958 18.39217,-66.150668 18.391947,-66.150141 18.391661,-66.148206 18.390671,-66.147952 18.390504,-66.14773 18.39025,-66.147551 18.389981,-66.147291 18.389498,-66.147041 18.388798,-66.146761 18.388075,-66.146543 18.387561,-66.146355 18.387283,-66.145291 18.385848,-66.144642 18.385017,-66.143897 18.38412,-66.143298 18.383435,-66.143295 18.383367,-66.143329 18.383313,-66.143475 18.383242,-66.146184 18.382495,-66.147829 18.38204,-66.148629 18.381758,-66.149865 18.381193,-66.150514 18.380825,-66.151401 18.380234,-66.152247 18.379526,-66.152847 18.378892,-66.153205 18.378442,-66.153437 18.378122,-66.153677 18.37773,-66.15398 18.377132,-66.15435 18.376204,-66.154627 18.375525,-66.15485 18.374962,-66.155243 18.374023,-66.155639 18.373299,-66.156445 18.37251,-66.157694 18.371354,-66.158943 18.370171,-66.159888 18.369272,-66.160484 18.368714,-66.161923 18.36736,-66.162386 18.366968,-66.162443 18.366965,-66.162491 18.367011,-66.163167 18.367708,-66.163563 18.368041,-66.16365 18.368098,-66.164358 18.368533,-66.16504 18.368815,-66.165943 18.369168,-66.166878 18.36956,-66.167249 18.369801,-66.167614 18.370309,-66.167821 18.37086,-66.167885 18.371311,-66.167843 18.371786,-66.167561 18.373704,-66.167543 18.374156,-66.167505 18.375168,-66.167546 18.375487,-66.167731 18.376155,-66.167772 18.37623,-66.167814 18.376265,-66.167936 18.376265,-66.168809 18.376047,-66.169069 18.375908,-66.169249 18.375747,-66.16937 18.375605,-66.169486 18.375415,-66.169802 18.374683,-66.169899 18.374445,-66.169993 18.374312,-66.170118 18.374244,-66.170272 18.374198,-66.170355 18.374176,-66.170404 18.374155,-66.1704 18.374091,-66.170366 18.373948,-66.170088 18.37308,-66.170042 18.372912,-66.170046 18.372826,-66.170061 18.372759,-66.17011 18.372666,-66.170961 18.371549,-66.171017 18.37147,-66.170983 18.371403,-66.170934 18.371342,-66.170487 18.37104,-66.169851 18.370591)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'D92','MAGNOLIA', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
