delete from ref.subroute where route = 'E20' and direction = 'TOA_ALTA'; with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.248724 18.423133,-66.250476 18.423142,-66.250879 18.423254,-66.251361 18.423273,-66.251499 18.423273,-66.251607 18.420108,-66.251529 18.41994,-66.251204 18.419212,-66.250318 18.418502,-66.24959 18.418278,-66.249098 18.418204,-66.24775 18.418082,-66.246934 18.417877,-66.246353 18.417858,-66.244612 18.417868,-66.243008 18.41798,-66.241965 18.418045,-66.240725 18.418185,-66.239279 18.418372,-66.238373 18.418465,-66.237773 18.418502,-66.237212 18.418484,-66.236592 18.418456,-66.235904 18.418325,-66.235077 18.418026,-66.233916 18.417448,-66.233011 18.416822,-66.231033 18.41503,-66.230226 18.414255,-66.229744 18.413909,-66.229469 18.413732,-66.228888 18.41348,-66.228042 18.413088,-66.22696 18.412649,-66.226359 18.412453,-66.225454 18.412229,-66.224431 18.411958,-66.223545 18.411743,-66.222994 18.411622,-66.222345 18.411575,-66.221971 18.411566,-66.221302 18.411594,-66.220869 18.411659,-66.220288 18.411762,-66.219895 18.411893,-66.219324 18.412089,-66.218901 18.41221,-66.218448 18.412341,-66.217838 18.412462,-66.217307 18.412546,-66.216589 18.412621,-66.215654 18.412705,-66.2153 18.412742,-66.21466 18.412817,-66.213873 18.412929,-66.212958 18.413144,-66.21224 18.413349,-66.211649 18.413536,-66.210862 18.413844,-66.21038 18.414068,-66.209967 18.414245,-66.209534 18.414414,-66.20913 18.414582,-66.208579 18.414806,-66.207989 18.415039,-66.20733 18.415328,-66.207025 18.41544,-66.206267 18.415749,-66.205805 18.415963,-66.204929 18.416318,-66.204063 18.416663,-66.202794 18.417196,-66.202046 18.417494,-66.20116 18.417877,-66.200423 18.418185,-66.199488 18.41853,-66.198661 18.418783,-66.197854 18.418997,-66.197107 18.419193,-66.196221 18.41938,-66.195768 18.419483,-66.194883 18.419613,-66.193889 18.419753,-66.193122 18.419847,-66.192187 18.419931,-66.191695 18.41994,-66.191232 18.41994,-66.190662 18.419912,-66.19015 18.419903,-66.189422 18.419856,-66.18833 18.419744,-66.187247 18.419651,-66.186401 18.419548,-66.18584 18.419483,-66.184217 18.419324,-66.183676 18.419277,-66.183174 18.419231,-66.182721 18.419184,-66.182111 18.419128,-66.181639 18.419072,-66.181127 18.419007,-66.180773 18.41896,-66.180429 18.418923,-66.180025 18.418876,-66.179602 18.418848,-66.17912 18.418811,-66.17854 18.418792,-66.17791 18.418811,-66.177526 18.418839,-66.177073 18.418895,-66.176375 18.418979,-66.175863 18.419025,-66.175135 18.419119,-66.174161 18.419259,-66.173482 18.419371,-66.172636 18.419473,-66.172124 18.419576,-66.171613 18.419641,-66.170658 18.419753,-66.169832 18.419893,-66.168513 18.420071,-66.167726 18.420183,-66.167145 18.420295,-66.166476 18.420407,-66.165689 18.42051,-66.164833 18.420603,-66.164243 18.420678,-66.164016 18.420734,-66.163495 18.420799,-66.159904 18.421294,-66.159559 18.42134,-66.1589 18.421434,-66.157778 18.421592,-66.155919 18.421863,-66.154344 18.422087,-66.153232 18.422237,-66.151383 18.422498,-66.150654 18.422535,-66.150231 18.422573,-66.149326 18.422573,-66.148136 18.422601,-66.147014 18.422619,-66.145085 18.422647,-66.144456 18.422666,-66.143708 18.422675,-66.143039 18.422591,-66.142311 18.422237,-66.142065 18.421536,-66.141947 18.421126,-66.141986 18.420519,-66.143216 18.418857,-66.143944 18.417774,-66.144357 18.417046,-66.145184 18.415534,-66.146069 18.414031,-66.146463 18.413237,-66.14722 18.411706,-66.147703 18.410698,-66.148263 18.409699,-66.149159 18.408392,-66.150576 18.406609,-66.151579 18.405339,-66.15213 18.404573,-66.152662 18.404237,-66.153223 18.403967,-66.153626 18.403901,-66.154147 18.403995,-66.154295 18.404032,-66.154531 18.404104,-66.154795 18.404208,-66.15494 18.404247,-66.155176 18.40434,-66.155321 18.404396,-66.155453 18.40442,-66.155601 18.404358,-66.155752 18.404119,-66.155969 18.403722,-66.156101 18.403333,-66.156098 18.402921,-66.155969 18.401816,-66.15589 18.401536,-66.155702 18.401532,-66.15531 18.401562,-66.155063 18.401562,-66.155002 18.401548,-66.154943 18.401484,-66.154872 18.401166,-66.154766 18.400887,-66.15469 18.400705,-66.154642 18.400607,-66.154589 18.400492,-66.154552 18.400367,-66.154527 18.400276,-66.154482 18.400236,-66.154181 18.400249,-66.154103 18.400289,-66.154091 18.400383,-66.154063 18.400863)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'E20','TOA_ALTA', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute where route = 'E20' and direction = 'BAYAMON'; with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.154063 18.400863,-66.154091 18.400383,-66.154103 18.400289,-66.154181 18.400249,-66.154482 18.400236,-66.154527 18.400276,-66.154552 18.400367,-66.154589 18.400492,-66.154642 18.400607,-66.15469 18.400705,-66.154766 18.400887,-66.154872 18.401166,-66.154943 18.401484,-66.155002 18.401548,-66.155063 18.401562,-66.15531 18.401562,-66.155702 18.401532,-66.15589 18.401536,-66.155969 18.401816,-66.156098 18.402921,-66.156101 18.403333,-66.155969 18.403722,-66.155752 18.404119,-66.155601 18.404358,-66.155453 18.40442,-66.155321 18.404396,-66.155176 18.40434,-66.15494 18.404247,-66.154795 18.404208,-66.154531 18.404104,-66.154295 18.404032,-66.154147 18.403995,-66.153626 18.403901,-66.153223 18.403967,-66.152662 18.404237,-66.15213 18.404573,-66.151579 18.405339,-66.150576 18.406609,-66.149159 18.408392,-66.148263 18.409699,-66.147703 18.410698,-66.14722 18.411706,-66.146463 18.413237,-66.146069 18.414031,-66.145184 18.415534,-66.144357 18.417046,-66.143944 18.417774,-66.143216 18.418857,-66.141986 18.420519,-66.141947 18.421126,-66.142065 18.421536,-66.142311 18.422237,-66.143039 18.422591,-66.143708 18.422675,-66.144456 18.422666,-66.145085 18.422647,-66.147014 18.422619,-66.148136 18.422601,-66.149326 18.422573,-66.150231 18.422573,-66.150654 18.422535,-66.151383 18.422498,-66.153232 18.422237,-66.154344 18.422087,-66.155919 18.421863,-66.157778 18.421592,-66.1589 18.421434,-66.159559 18.42134,-66.159904 18.421294,-66.163495 18.420799,-66.164016 18.420734,-66.164243 18.420678,-66.164833 18.420603,-66.165689 18.42051,-66.166476 18.420407,-66.167145 18.420295,-66.167726 18.420183,-66.168513 18.420071,-66.169832 18.419893,-66.170658 18.419753,-66.171613 18.419641,-66.172124 18.419576,-66.172636 18.419473,-66.173482 18.419371,-66.174161 18.419259,-66.175135 18.419119,-66.175863 18.419025,-66.176375 18.418979,-66.177073 18.418895,-66.177526 18.418839,-66.17791 18.418811,-66.17854 18.418792,-66.17912 18.418811,-66.179602 18.418848,-66.180025 18.418876,-66.180429 18.418923,-66.180773 18.41896,-66.181127 18.419007,-66.181639 18.419072,-66.182111 18.419128,-66.182721 18.419184,-66.183174 18.419231,-66.183676 18.419277,-66.184217 18.419324,-66.18584 18.419483,-66.186401 18.419548,-66.187247 18.419651,-66.18833 18.419744,-66.189422 18.419856,-66.19015 18.419903,-66.190662 18.419912,-66.191232 18.41994,-66.191695 18.41994,-66.192187 18.419931,-66.193122 18.419847,-66.193889 18.419753,-66.194883 18.419613,-66.195768 18.419483,-66.196221 18.41938,-66.197107 18.419193,-66.197854 18.418997,-66.198661 18.418783,-66.199488 18.41853,-66.200423 18.418185,-66.20116 18.417877,-66.202046 18.417494,-66.202794 18.417196,-66.204063 18.416663,-66.204929 18.416318,-66.205805 18.415963,-66.206267 18.415749,-66.207025 18.41544,-66.20733 18.415328,-66.207989 18.415039,-66.208579 18.414806,-66.20913 18.414582,-66.209534 18.414414,-66.209967 18.414245,-66.21038 18.414068,-66.210862 18.413844,-66.211649 18.413536,-66.21224 18.413349,-66.212958 18.413144,-66.213873 18.412929,-66.21466 18.412817,-66.2153 18.412742,-66.215654 18.412705,-66.216589 18.412621,-66.217307 18.412546,-66.217838 18.412462,-66.218448 18.412341,-66.218901 18.41221,-66.219324 18.412089,-66.219895 18.411893,-66.220288 18.411762,-66.220869 18.411659,-66.221302 18.411594,-66.221971 18.411566,-66.222345 18.411575,-66.222994 18.411622,-66.223545 18.411743,-66.224431 18.411958,-66.225454 18.412229,-66.226359 18.412453,-66.22696 18.412649,-66.228042 18.413088,-66.228888 18.41348,-66.229469 18.413732,-66.229744 18.413909,-66.230226 18.414255,-66.231033 18.41503,-66.233011 18.416822,-66.233916 18.417448,-66.235077 18.418026,-66.235904 18.418325,-66.236592 18.418456,-66.237212 18.418484,-66.237773 18.418502,-66.238373 18.418465,-66.239279 18.418372,-66.240725 18.418185,-66.241965 18.418045,-66.243008 18.41798,-66.244612 18.417868,-66.246353 18.417858,-66.246934 18.417877,-66.24775 18.418082,-66.249098 18.418204,-66.24959 18.418278,-66.250318 18.418502,-66.251204 18.419212,-66.251529 18.41994,-66.251607 18.420108,-66.251499 18.423273,-66.251361 18.423273,-66.250879 18.423254,-66.250476 18.423142,-66.248724 18.423133)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'E20','BAYAMON', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
