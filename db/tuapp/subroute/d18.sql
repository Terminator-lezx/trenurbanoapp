delete from ref.subroute where route = 'D18' and direction = 'CUPEY_GARDENS'; with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.062534 18.389684,-66.062305 18.389976,-66.062301 18.390043,-66.062383 18.390124,-66.062509 18.390227,-66.062532 18.390337,-66.062419 18.390515,-66.061937 18.391,-66.061933 18.391074,-66.062007 18.391067,-66.062688 18.390447,-66.063206 18.389895,-66.0633 18.389697,-66.06322 18.389474,-66.063132 18.389395,-66.06295 18.389277,-66.062629 18.389088,-66.062353 18.388908,-66.062287 18.388805,-66.062298 18.388712,-66.062541 18.388396,-66.063069 18.387703,-66.063084 18.387604,-66.063052 18.387526,-66.06292 18.38736,-66.062874 18.386998,-66.062872 18.386711,-66.063171 18.386038,-66.063199 18.385871,-66.063228 18.385635,-66.062993 18.385061,-66.062866 18.384742,-66.06284 18.384235,-66.062843 18.383304,-66.062872 18.383065,-66.062942 18.382872,-66.063304 18.382263,-66.063609 18.381515,-66.063762 18.381064,-66.06394 18.380015,-66.064141 18.37901,-66.064339 18.378135,-66.064415 18.377969,-66.06461 18.377687,-66.065859 18.375957,-66.066145 18.375187,-66.066541 18.373623,-66.066623 18.372993,-66.066673 18.372201,-66.066722 18.371862,-66.066737 18.371751,-66.0668 18.370619,-66.066879 18.369737,-66.066885 18.36966,-66.066864 18.369588,-66.066771 18.36956,-66.066384 18.3695,-66.065205 18.369275,-66.065051 18.36919,-66.064896 18.36906,-66.063681 18.367415,-66.062995 18.366505,-66.062867 18.366406,-66.062725 18.36634,-66.062544 18.366293,-66.062443 18.366276,-66.062178 18.366304,-66.061563 18.36631,-66.061418 18.366293,-66.061276 18.366268,-66.061121 18.366188,-66.060932 18.366069,-66.060807 18.365974,-66.060583 18.365698,-66.06036 18.365428,-66.060101 18.365196,-66.0588 18.364361,-66.056329 18.362665,-66.055438 18.362042,-66.055307 18.361918,-66.055185 18.361753,-66.055034 18.361528,-66.054885 18.361409,-66.054749 18.361354,-66.054339 18.361244,-66.054243 18.361205,-66.054205 18.361177,-66.054196 18.361122,-66.054193 18.361037,-66.054278 18.36049,-66.054294 18.360311,-66.054261 18.360007,-66.054104 18.359461,-66.053962 18.358832,-66.05386 18.358477,-66.05382 18.35806,-66.053794 18.357947,-66.053732 18.357856,-66.053602 18.357806,-66.053386 18.357806,-66.049853 18.357721,-66.048419 18.357716,-66.047736 18.357716,-66.047401 18.357694,-66.047235 18.35768,-66.046838 18.357603,-66.046705 18.357584,-66.046617 18.357598,-66.046565 18.357656,-66.046501 18.357799,-66.046146 18.358787,-66.04612 18.358992,-66.046126 18.359094,-66.04617 18.359257,-66.046559 18.359716,-66.04721 18.360381,-66.047668 18.360927,-66.048253 18.36186,-66.048916 18.363418,-66.048931 18.363487,-66.048899 18.363531,-66.048821 18.363567,-66.046194 18.364613,-66.045654 18.364773,-66.045369 18.364782,-66.044436 18.364746,-66.043482 18.364691,-66.043415 18.364669,-66.043368 18.364616,-66.043351 18.364547,-66.043368 18.364365,-66.043457 18.362994,-66.043497 18.362312,-66.043524 18.36215,-66.043579 18.362004,-66.043684 18.361844,-66.043939 18.361593,-66.045635 18.360138)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'D18','CUPEY_GARDENS', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute where route = 'D18' and direction = 'CUPEY'; with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.045635 18.360138,-66.046359 18.359539,-66.046394 18.35949,-66.046391 18.359429,-66.046348 18.359349,-66.04629 18.359221,-66.046273 18.359086,-66.046267 18.358931,-66.046304 18.358754,-66.046622 18.357751,-66.046669 18.357698,-66.046733 18.357682,-66.046843 18.357706,-66.047678 18.357841,-66.04843 18.35788,-66.051893 18.357971,-66.053281 18.358014,-66.053458 18.358053,-66.053542 18.358094,-66.053638 18.358163,-66.053691 18.358241,-66.053874 18.358936,-66.05413 18.360002,-66.054162 18.360231,-66.054162 18.360564,-66.054128 18.360939,-66.054098 18.361153,-66.054107 18.361219,-66.054165 18.361272,-66.054244 18.361299,-66.054708 18.361409,-66.054871 18.361485,-66.054999 18.361623,-66.055153 18.361832,-66.055252 18.361964,-66.055359 18.362077,-66.056647 18.36297,-66.058322 18.364147,-66.059028 18.36464,-66.05992 18.365165,-66.060088 18.36529,-66.060425 18.365637,-66.060757 18.366035,-66.060932 18.366169,-66.061089 18.366263,-66.061341 18.366346,-66.061672 18.366382,-66.062095 18.366379,-66.062454 18.366368,-66.062593 18.366398,-66.062815 18.366489,-66.062943 18.366577,-66.063196 18.366856,-66.063598 18.367414,-66.064767 18.369029,-66.06495 18.369219,-66.065046 18.369286,-66.06515 18.36933,-66.065417 18.369407,-66.066645 18.369638,-66.066758 18.369668,-66.066787 18.369699,-66.066787 18.369746,-66.066782 18.36982,-66.066689 18.371167,-66.066654 18.371624,-66.066651 18.371723,-66.0666 18.372209,-66.06656 18.372971,-66.066492 18.373594,-66.066102 18.375184,-66.065834 18.375936,-66.065435 18.376507,-66.064573 18.377658,-66.064367 18.377953,-66.06429 18.378122,-66.064101 18.378996,-66.063897 18.380005,-66.063716 18.381054,-66.063575 18.381496,-66.06327 18.382223,-66.062897 18.382854,-66.062829 18.383071,-66.062803 18.383307,-66.062789 18.384228,-66.062821 18.384748,-66.062953 18.38507,-66.063177 18.385628,-66.063141 18.386004,-66.062833 18.386698,-66.062829 18.38699,-66.062885 18.387377,-66.063033 18.387563,-66.063049 18.387639,-66.062973 18.387756,-66.062274 18.388682,-66.06221 18.388774,-66.062267 18.388927,-66.062405 18.389026,-66.062631 18.389184,-66.062784 18.389305,-66.06279 18.389359,-66.062558 18.389656)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'D18','CUPEY', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
