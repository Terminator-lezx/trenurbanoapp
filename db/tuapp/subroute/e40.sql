delete from ref.subroute_new where route = 'E40' and direction = 'AEROPUERTO'; with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.055344 18.409851,-66.055422 18.410474,-66.055411 18.410531,-66.055367 18.410544,-66.055309 18.410539,-66.055276 18.4105,-66.055122 18.409548,-66.05502 18.408947,-66.055012 18.40883,-66.055006 18.408739,-66.055045 18.408686,-66.055113 18.408652,-66.05516 18.408613,-66.055185 18.408598,-66.055196 18.408553,-66.055152 18.408221,-66.055149 18.408177,-66.055174 18.408151,-66.056428 18.408015,-66.056594 18.407978,-66.056633 18.407919,-66.056666 18.40779,-66.056681 18.407146,-66.056734 18.406981,-66.056811 18.406848,-66.056912 18.406743,-66.057101 18.406656,-66.057231 18.406647,-66.057414 18.406693,-66.057535 18.406784,-66.057632 18.40694,-66.057637 18.407178,-66.057583 18.407324,-66.057477 18.407421,-66.057304 18.407531,-66.057062 18.40759,-66.055682 18.407612,-66.054964 18.40768,-66.051068 18.40789,-66.04154 18.408174,-66.036053 18.408326,-66.033272 18.408411,-66.032628 18.408146,-66.032183 18.407474,-66.032011 18.407301,-66.031796 18.407143,-66.031598 18.407113,-66.031061 18.407138,-66.0303 18.40726,-66.029715 18.407657,-66.029382 18.408329,-66.029323 18.409098,-66.029262 18.409337,-66.029297 18.409887,-66.029141 18.410493,-66.028556 18.411587,-66.028202 18.411981,-66.027982 18.412465,-66.027931 18.412472,-66.027234 18.411974,-66.026821 18.411958,-66.026537 18.411785,-66.024863 18.411859,-66.024697 18.412053,-66.023058 18.412096,-66.023178 18.413307,-66.023484 18.413485,-66.023937 18.413585,-66.025512 18.413653,-66.026376 18.413887,-66.02721 18.414208,-66.027435 18.41462,-66.027381 18.414972,-66.027231 18.415516,-66.02688 18.416577,-66.026591 18.417776,-66.022903 18.430974,-66.02214 18.433514,-66.021993 18.433795,-66.021763 18.434121,-66.021376 18.43455,-66.021124 18.434769,-66.020689 18.435066,-66.020264 18.435271,-66.019818 18.435438,-66.019178 18.435549,-66.018568 18.435594,-66.017286 18.435635,-66.016889 18.435679,-66.016604 18.435793,-66.016384 18.435922,-66.016064 18.436049,-66.015775 18.436127,-66.015024 18.436206,-66.012265 18.436364,-66.011578 18.436465,-66.010656 18.436606,-66.009843 18.436665,-66.009135 18.43669,-66.00857 18.436646,-66.008043 18.436567,-66.007549 18.436463,-66.006573 18.436406,-66.006514 18.436406,-66.005896 18.436354,-66.0058 18.436302,-66.005368 18.43629,-66.004786 18.436312,-66.004639 18.436352,-66.00453 18.436431,-66.004494 18.436516,-66.00450480041728 18.437682999999993,-66.00455232016692 18.437981147348975)'), 32161) geom) insert into ref.subroute_new(route, direction, geom) select 'E40','AEROPUERTO', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute_new where route = 'E40' and direction = 'PINERO'; with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.00455232016692 18.437981147348975,-66.00460155924887 18.438063652933725,-66.00469039916541 18.438209041195467,-66.005298 18.438905,-66.005415 18.438956,-66.005627 18.438933,-66.00668 18.438539,-66.008427 18.43784,-66.010485 18.437002,-66.01188 18.436592,-66.012308 18.43653,-66.014964 18.436349,-66.01589 18.436266,-66.016465 18.436036,-66.016704 18.435903,-66.016948 18.435799,-66.017169 18.435769,-66.017437 18.435736,-66.017928 18.435728,-66.018863 18.4357,-66.019308 18.435659,-66.019691 18.435589,-66.020208 18.435434,-66.020794 18.435144,-66.021139 18.434887,-66.021522 18.43453,-66.021793 18.434244,-66.022026 18.433911,-66.022239 18.433527,-66.022456 18.432923,-66.024636 18.425196,-66.025865 18.420796,-66.02689 18.417288,-66.027157 18.41642,-66.02739 18.415559,-66.027628 18.414783,-66.027714 18.414676,-66.027993 18.414488,-66.028256 18.414463,-66.028433 18.41458,-66.028723 18.414916,-66.028819 18.415081,-66.02879 18.415318,-66.02868 18.41548,-66.028511 18.415559,-66.028347 18.415559,-66.028218 18.415503,-66.028127 18.415414,-66.026864 18.414239,-66.026714 18.413704,-66.025273 18.413422,-66.023669 18.413233,-66.023224 18.412979,-66.023205 18.412167,-66.024707 18.412119,-66.024906 18.41192,-66.026542 18.411854,-66.026818 18.412004,-66.02721 18.412012,-66.027969 18.412544,-66.028245 18.41203,-66.028607 18.411589,-66.028996 18.410943,-66.029195 18.4105,-66.029347 18.4099,-66.029339 18.409413,-66.029358 18.409268,-66.029439 18.409156,-66.029643 18.409024,-66.029637 18.408876,-66.029535 18.408762,-66.029476 18.408571,-66.029554 18.4082,-66.029726 18.40808,-66.029916 18.408016,-66.030241 18.408182,-66.03041 18.408653,-66.030689 18.409118,-66.031045 18.40934,-66.031442 18.409406,-66.031957 18.409245,-66.032574 18.408846,-66.033006 18.408622,-66.033837 18.408497,-66.041535 18.40826,-66.049661 18.408126,-66.0514 18.408224,-66.052861 18.408262,-66.052969 18.408277,-66.05304 18.408283,-66.053098 18.40828,-66.053181 18.408277,-66.053245 18.408251,-66.054743 18.408163,-66.05498 18.408163,-66.055035 18.408181,-66.055081 18.408224,-66.055111 18.408265,-66.055142 18.408472,-66.05532 18.409778)'), 32161) geom) insert into ref.subroute_new(route, direction, geom) select 'E40','PINERO', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
