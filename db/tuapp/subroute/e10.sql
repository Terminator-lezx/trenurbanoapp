delete from ref.subroute_new where route = 'E10' and direction = 'SAN_JUAN'; with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.060215 18.4354,-66.060457 18.435478,-66.060483 18.435622,-66.060368 18.436003,-66.060412 18.436046,-66.060566 18.436195,-66.06143 18.437302,-66.062383 18.438454,-66.062801 18.438947,-66.063152 18.439253,-66.06364 18.439572,-66.064314 18.439827,-66.065523 18.440058,-66.066293 18.440205,-66.066897 18.440283,-66.068088 18.440297,-66.069205 18.440165,-66.069865 18.440139,-66.070413 18.440179,-66.071159 18.44035,-66.071904 18.440619,-66.07274 18.441049,-66.073646 18.441562,-66.074267 18.441901,-66.074811 18.442131,-66.076397 18.442645,-66.077859 18.442935,-66.078836 18.4432,-66.079252 18.443351,-66.07991 18.443769,-66.080997 18.444613,-66.081625 18.4451,-66.082291 18.445624,-66.08254 18.445874,-66.082857 18.446268,-66.083005 18.44653,-66.083097 18.446827,-66.08315 18.447152,-66.083147 18.447524,-66.083109 18.447819,-66.082993 18.44822,-66.082849 18.448667,-66.082809 18.448812,-66.08273 18.44913,-66.082735 18.449466,-66.083002 18.449983,-66.08343 18.45037,-66.084585 18.451123,-66.085323 18.451558,-66.086064 18.451941,-66.08638 18.452157,-66.086658 18.452393,-66.086917 18.452823,-66.087004 18.453362,-66.086971 18.453945,-66.086879 18.454876,-66.086757 18.455803,-66.086557 18.456658,-66.086435 18.457155,-66.086208 18.457879,-66.086237 18.458437,-66.08627 18.458654,-66.086341 18.459236,-66.086438 18.459992,-66.086528 18.460303,-66.086651 18.460637,-66.086838 18.460972,-66.087161 18.461158,-66.08739 18.461245,-66.087468 18.461274,-66.087734 18.461357,-66.088022 18.461562,-66.088385 18.461808,-66.088394 18.461818,-66.088412 18.461839,-66.088456 18.461839,-66.088774 18.461823,-66.089042 18.461855,-66.089651 18.462077,-66.090076 18.462239,-66.090586 18.462436,-66.091299 18.462717,-66.091942 18.462982,-66.092971 18.463377,-66.093556 18.463634,-66.093836 18.463744,-66.094059 18.463749,-66.094504 18.463749,-66.095621 18.463826,-66.09722 18.463951,-66.098432 18.464028,-66.099652 18.464085,-66.100963 18.464185,-66.102253 18.464286,-66.102949 18.464492,-66.103683 18.464674,-66.104478 18.464868,-66.105665 18.465205,-66.10574 18.46522,-66.10581 18.465231,-66.105981 18.465256,-66.1062 18.465278,-66.106371 18.465254,-66.106525 18.465233,-66.106749 18.465252,-66.107092 18.465308,-66.107674 18.465236,-66.107742 18.465156,-66.107812 18.463941,-66.107853 18.463895,-66.107932 18.463894,-66.108583 18.46394,-66.110092 18.464015,-66.11045 18.464035,-66.110508 18.464079,-66.110545 18.464307,-66.110619 18.464366,-66.110724 18.46479)'), 32161) geom) insert into ref.subroute_new(route, direction, geom) select 'E10','SAN_JUAN', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute_new where route = 'E10' and direction = 'SAGRADO_CORAZON'; with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.11073 18.464809,-66.11075 18.46489,-66.110853 18.464968,-66.111067 18.464941,-66.111178 18.464871,-66.111035 18.464123,-66.110974 18.464044,-66.110776 18.463977,-66.109956 18.463972,-66.109445 18.463951,-66.107029 18.463813,-66.10691 18.463837,-66.106711 18.464108,-66.106145 18.465008,-66.106004 18.465086,-66.105765 18.465204,-66.105591 18.465165,-66.105144 18.465039,-66.104664 18.464906,-66.104525 18.464867,-66.103769 18.464669,-66.103048 18.464475,-66.102713 18.46437,-66.102399 18.464273,-66.102165 18.464237,-66.101408 18.464183,-66.100504 18.464124,-66.099512 18.464052,-66.098985 18.464029,-66.097964 18.463972,-66.097214 18.463916,-66.096794 18.463886,-66.09573 18.463809,-66.09449 18.463716,-66.093915 18.463715,-66.092527 18.463172,-66.091046 18.462589,-66.09021 18.462261,-66.089538 18.462006,-66.089021 18.461818,-66.088714 18.461794,-66.088456 18.461813,-66.088416 18.461813,-66.088394 18.461818,-66.088373 18.461822,-66.087984 18.461883,-66.087873 18.461875,-66.087727 18.461814,-66.087579 18.461653,-66.087486 18.461509,-66.08739 18.461245,-66.087349 18.461131,-66.087321 18.4608,-66.087314 18.460124,-66.087296 18.459882,-66.087186 18.459307,-66.08704 18.458812,-66.08695 18.458438,-66.086814 18.457951,-66.086594 18.457471,-66.08656 18.457169,-66.086858 18.455817,-66.086974 18.454875,-66.087048 18.453973,-66.087093 18.453357,-66.08705 18.453014,-66.086936 18.452637,-66.086695 18.452292,-66.086488 18.452119,-66.086255 18.451955,-66.085531 18.451522,-66.085356 18.451429,-66.084855 18.451136,-66.084423 18.450877,-66.08337 18.450209,-66.083058 18.449764,-66.08291 18.449288,-66.082969 18.448765,-66.083152 18.448226,-66.083264 18.447853,-66.083306 18.447495,-66.083265 18.447066,-66.083171 18.446613,-66.082954 18.446169,-66.082452 18.445621,-66.082045 18.445274,-66.080798 18.444308,-66.07988 18.44359,-66.079402 18.44333,-66.079126 18.44316,-66.078418 18.442915,-66.077483 18.442708,-66.076251 18.442427,-66.075423 18.442146,-66.07392 18.44151,-66.073035 18.441013,-66.07175 18.440361,-66.071206 18.440167,-66.070786 18.440072,-66.070044 18.44,-66.068721 18.439993,-66.068223 18.439867,-66.067683 18.439716,-66.067337 18.439751,-66.06692 18.439864,-66.066574 18.439911,-66.064634 18.439529,-66.06381 18.439241,-66.063254 18.438858,-66.062917 18.438468,-66.062634 18.437763,-66.062479 18.437173,-66.062446 18.437062,-66.062294 18.436956,-66.061869 18.43705,-66.061403 18.437151,-66.061341 18.437115,-66.06098 18.436654,-66.060503 18.436075,-66.060412 18.436046,-66.060322 18.436016,-66.059753 18.436011,-66.059378 18.435994,-66.059312 18.435935,-66.059255 18.435337,-66.059326 18.435282,-66.059721 18.435303,-66.06001 18.435354)'), 32161) geom) insert into ref.subroute_new(route, direction, geom) select 'E10','SAGRADO_CORAZON', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
