delete from ref.subroute_new where route = 'AX1' and direction = 'SAN_JUAN'; with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.11666293855 18.44370301523,-66.11688854895 18.44404735246,-66.11689401039 18.44451811416,-66.11273426685 18.46051577613,-66.11270429438 18.4609906272,-66.1130815 18.463019)'), 32161) geom) insert into ref.subroute_new(route, direction, geom) select 'AX1','San Juan', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute_new where route = 'AX1' and direction = 'CATANO'; with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.1130815 18.463019,-66.11270429438 18.4609906272,-66.11273426685 18.46051577613,-66.11689401039 18.44451811416,-66.11688854895 18.44404735246,-66.11666293855 18.44370301523)'), 32161) geom) insert into ref.subroute_new(route, direction, geom) select 'AX1','Cata√±o', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
