delete from ref.subroute where route = 'C51' and direction = 'CAROLINA'; with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-65.992325 18.394167,-65.991104 18.394714,-65.990793 18.395116,-65.990499 18.396176,-65.990875 18.397391,-65.990838 18.397849,-65.990742 18.398262,-65.990674 18.398367,-65.990547 18.39838,-65.989891 18.398295,-65.988814 18.398088,-65.987028 18.397517,-65.985318 18.396763,-65.983814 18.3958,-65.98352 18.395615,-65.982649 18.39499,-65.982488 18.394877,-65.98222 18.39469,-65.982084 18.394639,-65.981965 18.394692,-65.981954 18.394902,-65.982171 18.395784,-65.982208 18.395864,-65.982291 18.396247,-65.982443 18.397057,-65.982521 18.397351,-65.982581 18.397563,-65.982817 18.398424,-65.983031 18.399317,-65.983927 18.403171,-65.984214 18.404461,-65.984257 18.404665,-65.984262 18.404898,-65.984238 18.405269,-65.984235 18.405432,-65.984295 18.40559,-65.984431 18.405718,-65.984671 18.405896,-65.98489 18.406174,-65.98495 18.40631,-65.98499 18.406451,-65.985019 18.406697,-65.984987 18.406763,-65.984844 18.406792,-65.984238 18.40678,-65.983315 18.406738,-65.982262 18.40666,-65.981623 18.406615,-65.980835 18.406554,-65.97766 18.406471,-65.97308 18.406342,-65.968244 18.406166,-65.968172 18.406041,-65.968189 18.405287,-65.968169 18.404812,-65.968121 18.404316,-65.968028 18.403957,-65.967888 18.40358,-65.96762 18.403098,-65.967248 18.40265,-65.966979 18.402219,-65.966843 18.40171,-65.966826 18.401476,-65.966856 18.401187,-65.966901 18.400978,-65.968857 18.396204,-65.969456 18.394745,-65.970225 18.392872,-65.970485 18.392416,-65.970757 18.392083,-65.970813 18.391971,-65.970757 18.391834,-65.970677 18.391781,-65.970054 18.391485,-65.969728 18.391362,-65.969266 18.391284,-65.968615 18.391252,-65.966716 18.391284,-65.965133 18.391335,-65.963558 18.391377,-65.962224 18.391409,-65.960859 18.391438,-65.95953 18.391468,-65.957851 18.391506,-65.956978 18.391598,-65.955133 18.391777,-65.954762 18.391804,-65.953807 18.39171,-65.952591 18.391592,-65.952352 18.391563,-65.952302 18.391506,-65.952312 18.391392,-65.952532 18.389868,-65.952807 18.387991,-65.952948 18.386942,-65.953105 18.386476,-65.953219 18.386427,-65.95355 18.3864,-65.95389 18.386345,-65.953942 18.386254,-65.953922 18.386169,-65.953862 18.386116,-65.953742 18.386091)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'C51','CAROLINA', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute where route = 'C51' and direction = 'ESCORIAL'; with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-65.953685 18.386132,-65.953611 18.38624,-65.953604 18.386286,-65.953566 18.386358,-65.95335 18.386377,-65.953274 18.386338,-65.953202 18.386333,-65.953139 18.386365,-65.953067 18.38647,-65.952903 18.386933,-65.952843 18.387331,-65.952222 18.391458,-65.952233 18.391536,-65.952352 18.391621,-65.952598 18.391648,-65.954574 18.391857,-65.954992 18.391868,-65.95528 18.391836,-65.957649 18.391584,-65.957886 18.391568,-65.965188 18.391409,-65.96559 18.39139,-65.966795 18.391365,-65.968887 18.391338,-65.969515 18.391418,-65.969916 18.39152,-65.970657 18.391885,-65.970736 18.391955,-65.970707 18.392051,-65.970566 18.392169,-65.970425 18.392363,-65.97023 18.3927,-65.969885 18.393542,-65.966808 18.400949,-65.966752 18.40118,-65.966729 18.40148,-65.966746 18.401716,-65.966899 18.402252,-65.967187 18.40273,-65.967525 18.403164,-65.967785 18.403615,-65.967949 18.404001,-65.968034 18.404333,-65.968085 18.404811,-65.96809 18.405631,-65.968085 18.406077,-65.968107 18.4062,-65.968169 18.406318,-65.968322 18.406345,-65.968825 18.40635,-65.971094 18.406405,-65.973157 18.406474,-65.975691 18.406565,-65.977658 18.406656,-65.981863 18.40683,-65.984668 18.406903,-65.985572 18.406924,-65.98578 18.406916,-65.985984 18.406897,-65.986466 18.406908,-65.986508 18.406901,-65.986515 18.406866,-65.986476 18.40683,-65.986276 18.406819,-65.985358 18.406787,-65.985161 18.406775,-65.985089 18.406752,-65.985052 18.406699,-65.985037 18.40657,-65.985016 18.406402,-65.984912 18.406167,-65.984859 18.406071,-65.984693 18.405885,-65.984453 18.405696,-65.984325 18.405569,-65.984269 18.405413,-65.984283 18.405104,-65.984293 18.404895,-65.984291 18.404656,-65.984258 18.404454,-65.984114 18.403828,-65.983962 18.403157,-65.983058 18.399303,-65.982849 18.398416,-65.982608 18.397557,-65.982531 18.397297,-65.982471 18.397047,-65.982375 18.396531,-65.982216 18.395768,-65.982094 18.395318,-65.982049 18.395055,-65.982057 18.394962,-65.982135 18.394902,-65.982213 18.394892,-65.982329 18.394928,-65.982569 18.395057,-65.983459 18.39572,-65.985075 18.396825,-65.986978 18.39769,-65.988808 18.398282,-65.990871 18.398593,-65.992141 18.398646,-65.992924 18.398603,-65.9936 18.398539,-65.994315 18.398434,-65.994999 18.39838,-65.995369 18.398383,-65.995559 18.398316,-65.995624 18.398254,-65.995601 18.398126,-65.995369 18.397506,-65.995214 18.396991,-65.994801 18.395781,-65.994567 18.395162,-65.994205 18.394209,-65.993993 18.393695,-65.993846 18.393558,-65.993479 18.393618,-65.992325 18.394167)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'C51','ESCORIAL', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
