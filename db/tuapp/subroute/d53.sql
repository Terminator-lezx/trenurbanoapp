delete from ref.subroute_new where route = 'D53' and direction = 'AEROPUERTO'; with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.110674 18.464909,-66.110742 18.465011,-66.110889 18.464996,-66.111172 18.46493,-66.111209 18.464868,-66.111032 18.464164,-66.110927 18.464,-66.110829 18.463972,-66.109787 18.463943,-66.107036 18.463796,-66.106946 18.463825,-66.106246 18.464925,-66.106116 18.465027,-66.105761 18.465196,-66.103286 18.464541,-66.102573 18.464325,-66.102376 18.464268,-66.102151 18.46424,-66.09961 18.464057,-66.099023 18.464038,-66.096973 18.463891,-66.0957 18.463803,-66.09456 18.463723,-66.094302 18.463718,-66.093987 18.463713,-66.09389 18.463694,-66.093742 18.463654,-66.093015 18.463362,-66.092054 18.462985,-66.090354 18.462321,-66.089272 18.461906,-66.089037 18.461823,-66.088814 18.461799,-66.088061 18.461882,-66.087926 18.46189,-66.087801 18.461852,-66.087656 18.461735,-66.087486 18.461476,-66.087358 18.461077,-66.087334 18.46052,-66.087323 18.45994,-66.087051 18.458658,-66.087111 18.457723,-66.087185 18.457575,-66.087295 18.457495,-66.087503 18.457397,-66.087776 18.457256,-66.0882 18.456931,-66.088479 18.456586,-66.088571 18.456448,-66.088684 18.456425,-66.089597 18.457001,-66.089795 18.457129,-66.089947 18.457183,-66.09053 18.457122,-66.090601 18.457089,-66.090622 18.456988,-66.090608 18.456787,-66.090618 18.456706,-66.090983 18.455975,-66.090969 18.455895,-66.089858 18.45511,-66.089582 18.454979,-66.089201 18.454895,-66.08901 18.454959,-66.088886 18.45513,-66.088741 18.455623,-66.088469 18.45617,-66.088076 18.456713,-66.087563 18.457186,-66.087185 18.457417,-66.086835 18.457471,-66.086623 18.457585,-66.086379 18.457887,-66.08628 18.458212,-66.086287 18.458544,-66.086499 18.46006,-66.08663 18.460416,-66.086842 18.460624,-66.087005 18.460664,-66.087146 18.460587,-66.087227 18.460399,-66.087196 18.460255,-66.087083 18.460127,-66.086888 18.45997,-66.086669 18.45993,-66.086524 18.459943,-66.083073 18.460496,-66.082019 18.460718,-66.081853 18.460738,-66.079544 18.460352,-66.075693 18.458152,-66.07547 18.457944,-66.074714 18.457045,-66.074067 18.456049,-66.073801 18.455861,-66.072288 18.455157,-66.070577 18.454365,-66.069265 18.454204,-66.068929 18.454167,-66.067267 18.454476,-66.065647 18.454774,-66.065138 18.454737,-66.063331 18.454479,-66.06214 18.454294,-66.061836 18.4541,-66.06161 18.45361,-66.061422 18.453352,-66.061171 18.453167,-66.059492 18.452644,-66.058081 18.452621,-66.056723 18.452486,-66.054449 18.452208,-66.05236 18.451916,-66.051964 18.451856,-66.051044 18.451581,-66.050178 18.451383,-66.050128 18.451413,-66.049952 18.452554,-66.049888 18.452664,-66.049807 18.452694,-66.049248 18.452634,-66.048753 18.452507,-66.048226 18.452386,-66.047508 18.452289,-66.047413 18.452235,-66.047342 18.45205,-66.047388 18.451873,-66.04743 18.451651,-66.047544 18.451091,-66.047632 18.449454,-66.047551 18.449384,-66.047261 18.44935,-66.044938 18.449116,-66.044623 18.449136,-66.041918 18.450568,-66.041246 18.451024,-66.04003 18.4515,-66.039464 18.451668,-66.039298 18.451648,-66.039192 18.451561,-66.038279 18.450199,-66.037784 18.449464,-66.037572 18.449236,-66.035946 18.447925,-66.034022 18.446492,-66.032678 18.4455,-66.0323 18.445292,-66.031748 18.44503,-66.030051 18.44448,-66.027364 18.443715,-66.025415 18.443152,-66.022198 18.4424,-66.021374 18.442269,-66.020264 18.442269,-66.019224 18.44233,-66.017891 18.442343,-66.017399 18.442279,-66.015999 18.442011,-66.014765 18.44179,-66.014489 18.441649,-66.01444 18.441511,-66.014479 18.441317,-66.014712 18.441122,-66.014991 18.441042,-66.015741 18.440921,-66.016873 18.440591,-66.019652 18.439457,-66.0227 18.438109,-66.02328 18.437901,-66.023598 18.437948,-66.023789 18.438216,-66.023754 18.438504,-66.023492 18.438699,-66.023237 18.438739,-66.023004 18.438551,-66.022679 18.438209,-66.020451 18.434908,-66.020302 18.434566,-66.020387 18.434224,-66.020691 18.43411,-66.020981 18.434197,-66.021158 18.434439,-66.021073 18.434774,-66.020713 18.435036,-66.019899 18.435412,-66.018945 18.435579,-66.017177 18.43564,-66.016604 18.435794,-66.015939 18.436082,-66.014701 18.436237,-66.012382 18.436364,-66.011943 18.436404,-66.010805 18.436626,-66.008796 18.436713,-66.008082 18.436646,-66.007184 18.436465,-66.005755 18.436411,-66.004659 18.436445,-66.004518 18.436565,-66.004518 18.437786,-66.004617 18.438048,-66.005331 18.438927,-66.005501 18.438981,-66.006017 18.438806,-66.006871 18.438489)'), 32161) geom) insert into ref.subroute_new(route, direction, geom) select 'D53','AEROPUERTO', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute_new where route = 'D53' and direction = 'SAN_JUAN'; with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.006871 18.438489,-66.00751 18.438254,-66.00886 18.437652,-66.009737 18.437243,-66.011116 18.436807,-66.012 18.436565,-66.015303 18.436357,-66.016165 18.436203,-66.01671 18.435928,-66.017148 18.435814,-66.017622 18.435962,-66.018945 18.436518,-66.019327 18.436646,-66.019673 18.436599,-66.020324 18.436264,-66.020607 18.436143,-66.020812 18.436196,-66.021017 18.436425,-66.021894 18.4378,-66.021915 18.438048,-66.021674 18.438283,-66.019822 18.439122,-66.01828 18.439839,-66.016165 18.440671,-66.015536 18.440812,-66.014772 18.44092,-66.014518 18.441081,-66.013726 18.441523,-66.01355 18.441647,-66.01351 18.441757,-66.01356 18.441851,-66.01379 18.441951,-66.01424 18.441923,-66.015006 18.441956,-66.015711 18.442041,-66.01615 18.442096,-66.017368 18.442329,-66.017663 18.442393,-66.018039 18.442408,-66.019473 18.44238,-66.020261 18.442333,-66.021361 18.442336,-66.021704 18.442376,-66.024709 18.443047,-66.026424 18.443507,-66.027704 18.443869,-66.029854 18.444466,-66.031768 18.445104,-66.032488 18.445455,-66.033173 18.445929,-66.035463 18.44762,-66.036739 18.448619,-66.037506 18.449236,-66.037721 18.449451,-66.038414 18.450466,-66.039031 18.451413,-66.039214 18.451678,-66.039389 18.451733,-66.039766 18.45165,-66.04053 18.451392,-66.04131 18.45106,-66.04172 18.450785,-66.041985 18.450595,-66.044535 18.449241,-66.044735 18.449181,-66.045175 18.449181,-66.047498 18.449423,-66.047563 18.449509,-66.047506 18.450797,-66.047495 18.451088,-66.04729 18.452058,-66.047368 18.452231,-66.0475 18.452324,-66.048228 18.452426,-66.048556 18.452497,-66.049098 18.452637,-66.049351 18.452684,-66.049828 18.45273,-66.049936 18.452675,-66.049986 18.452542,-66.050158 18.451449,-66.050216 18.451435,-66.051128 18.451648,-66.051956 18.451888,-66.053128 18.452058,-66.054451 18.452246,-66.05673 18.452523,-66.05808 18.452656,-66.059475 18.452669,-66.061158 18.453192,-66.061387 18.453372,-66.061567 18.453637,-66.061784 18.454098,-66.062136 18.454326,-66.063637 18.454561,-66.065164 18.454787,-66.06656 18.454927,-66.068233 18.455125,-66.069134 18.455242,-66.071072 18.455836,-66.074378 18.456953,-66.074672 18.457083,-66.075451 18.457992,-66.075718 18.458225,-66.079487 18.460368,-66.079593 18.460408,-66.081827 18.460777,-66.082046 18.46078,-66.083089 18.460552,-66.086151 18.460059,-66.086402 18.46013,-66.086607 18.460505,-66.086887 18.460985,-66.087283 18.461206,-66.08752 18.461263,-66.087675 18.461163,-66.087711 18.461015,-66.087587 18.460747,-66.087368 18.459925,-66.087076 18.458665,-66.087127 18.457732,-66.087196 18.457585,-66.087303 18.457505,-66.087797 18.457276,-66.088214 18.456951,-66.088583 18.456473,-66.088684 18.456458,-66.089773 18.457153,-66.089955 18.457217,-66.090549 18.457152,-66.090633 18.457088,-66.09065 18.456986,-66.090645 18.456776,-66.090659 18.456701,-66.091014 18.455986,-66.090997 18.455877,-66.090781 18.455725,-66.089869 18.455092,-66.089591 18.454952,-66.089208 18.454871,-66.088995 18.454936,-66.088861 18.455133,-66.088716 18.455619,-66.088444 18.456164,-66.088057 18.456699,-66.087551 18.457165,-66.087178 18.457395,-66.086837 18.45744,-66.086616 18.457564,-66.086359 18.457871,-66.086251 18.458205,-66.08626 18.45855,-66.086467 18.460065,-66.086704 18.460772,-66.086856 18.461006,-66.087273 18.461235,-66.087595 18.461329,-66.087905 18.461455,-66.088408 18.461795,-66.088603 18.461856,-66.088826 18.461834,-66.089032 18.461858,-66.089268 18.461931,-66.090371 18.462366,-66.093 18.46339,-66.093887 18.463737,-66.093985 18.463747,-66.094308 18.463746,-66.094559 18.463756,-66.096723 18.463908,-66.098703 18.464051,-66.099616 18.464088,-66.100369 18.464145,-66.10149 18.464225,-66.102147 18.464269,-66.102365 18.464298,-66.102565 18.464361,-66.103275 18.464571,-66.105715 18.465211,-66.105956 18.465258,-66.106235 18.465279,-66.106516 18.465235,-66.106889 18.465274,-66.107204 18.465304,-66.107665 18.465233,-66.107759 18.465186,-66.107777 18.464993,-66.107833 18.463971,-66.10786 18.463898,-66.10807 18.463897,-66.110347 18.464033,-66.110483 18.464053,-66.110513 18.464207,-66.110563 18.464479,-66.110674 18.464909)'), 32161) geom) insert into ref.subroute_new(route, direction, geom) select 'D53','SAN_JUAN', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
