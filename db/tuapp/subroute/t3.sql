delete from ref.subroute_new where route = 'T3' and direction = 'SAGRADO_CORAZON'; with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.110831 18.464771,-66.11086 18.464877,-66.110911 18.464964,-66.111077 18.464966,-66.11122 18.464885,-66.111099 18.464146,-66.111024 18.46402,-66.110791 18.463935,-66.109968 18.463934,-66.109457 18.463918,-66.107036 18.463785,-66.106904 18.463815,-66.106688 18.464091,-66.106129 18.46499,-66.105995 18.465069,-66.105761 18.465182,-66.105606 18.465138,-66.105171 18.465008,-66.104679 18.464876,-66.104545 18.464842,-66.103789 18.464647,-66.103061 18.464463,-66.102403 18.464257,-66.102165 18.464222,-66.101414 18.464166,-66.100508 18.464118,-66.099513 18.464032,-66.09899 18.464014,-66.097972 18.463958,-66.097221 18.463904,-66.096799 18.463869,-66.095734 18.463796,-66.094494 18.463699,-66.093919 18.463703,-66.092542 18.463162,-66.091061 18.462581,-66.090224 18.462253,-66.08955 18.461999,-66.089028 18.461811,-66.088715 18.461789,-66.088458 18.46181,-66.088415 18.461809,-66.088372 18.461818,-66.087985 18.461882,-66.087874 18.461874,-66.087732 18.461815,-66.087723 18.461806,-66.087608 18.461694,-66.087409 18.461307,-66.087357 18.460935,-66.087361 18.459949,-66.086941 18.458503,-66.086797 18.457968,-66.086513 18.457542,-66.085634 18.456896,-66.081016 18.454775,-66.08036 18.454448,-66.075157 18.451252,-66.062706 18.441675,-66.059651 18.438184,-66.059589 18.438113,-66.059583 18.438064,-66.059435 18.437672,-66.05933 18.436061,-66.05923 18.435273,-66.059579 18.435243)'), 32161) geom) insert into ref.subroute_new(route, direction, geom) select 'T3','SAGRADO_CORAZON', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute_new where route = 'T3' and direction = 'SAN_JUAN'; with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.060495 18.435661,-66.06039 18.436022,-66.05933 18.436061,-66.059289 18.436062,-66.059456 18.437756,-66.059462 18.437812,-66.059558 18.438015,-66.059601 18.438111,-66.059651 18.438184,-66.059891 18.438484,-66.062588 18.441604,-66.075109 18.451252,-66.080891 18.454774,-66.085483 18.456926,-66.086009 18.457445,-66.086331 18.458565,-66.086481 18.460045,-66.0866 18.460384,-66.086799 18.460949,-66.08711 18.461153,-66.087735 18.461367,-66.088383 18.461808,-66.088413 18.461845,-66.088458 18.461843,-66.088778 18.461831,-66.089049 18.461863,-66.089652 18.462081,-66.090179 18.462288,-66.090593 18.462444,-66.091313 18.462729,-66.091949 18.462982,-66.092971 18.463391,-66.09357 18.463644,-66.093701 18.463692,-66.093838 18.463755,-66.094073 18.463767,-66.094522 18.463769,-66.095627 18.463841,-66.097227 18.463965,-66.098444 18.464045,-66.099659 18.4641,-66.100968 18.464197,-66.102257 18.464299,-66.102954 18.464509,-66.104493 18.464891,-66.105672 18.465215,-66.10599 18.465264,-66.1062 18.465284,-66.106531 18.465233,-66.106751 18.465253,-66.107099 18.465307,-66.107675 18.465238,-66.107745 18.465149,-66.107807 18.463948,-66.107857 18.463898,-66.107933 18.463894,-66.108585 18.463941,-66.110095 18.46402,-66.110456 18.464039,-66.110512 18.464084,-66.110531 18.464262,-66.110704 18.464359,-66.110751 18.46443,-66.110822 18.464748)'), 32161) geom) insert into ref.subroute_new(route, direction, geom) select 'T3','SAN_JUAN', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
