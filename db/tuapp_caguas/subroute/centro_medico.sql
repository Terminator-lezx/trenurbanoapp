delete from ref.subroute where route = 'CM' and direction = 'CENTRO_MEDICO';with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.032142 18.235189,-66.031993 18.235528,-66.032627 18.235705,-66.03276 18.235752,-66.032799 18.235761,-66.032823 18.235763,-66.032899 18.23575,-66.03295 18.235732,-66.033041 18.235757,-66.035008 18.236478,-66.035081 18.236547,-66.035095 18.23661,-66.03519 18.238209,-66.03519 18.238551,-66.035215 18.239216,-66.035247 18.239705,-66.035275 18.240162,-66.035315 18.240711,-66.035571 18.244759,-66.035687 18.246479,-66.036187 18.253834,-66.036255 18.254697,-66.036296 18.255167,-66.036445 18.256498,-66.036563 18.257307,-66.036735 18.258012,-66.036871 18.258564,-66.037145 18.259499,-66.037428 18.260462,-66.037699 18.261426,-66.037736 18.261714,-66.037679 18.261966,-66.037496 18.262243,-66.037192 18.262483,-66.037048 18.262632,-66.036936 18.262848,-66.036927 18.26315,-66.036981 18.263303,-66.037204 18.264085,-66.037527 18.264837,-66.037607 18.265287,-66.037616 18.265738,-66.037643 18.266107,-66.037808 18.266821,-66.03826 18.267531,-66.038954 18.26841,-66.039263 18.269098,-66.039455 18.269952,-66.039459 18.2707,-66.03916 18.271788,-66.038578 18.272612,-66.036967 18.274278,-66.03617 18.275121,-66.035594 18.275986,-66.03486 18.277836,-66.034569 18.279729,-66.034563 18.280732,-66.034778 18.282216,-66.035107 18.283262,-66.035819 18.284692,-66.036427 18.285559,-66.037072 18.286294,-66.037984 18.287109,-66.039116 18.28787,-66.040817 18.288961,-66.041738 18.289582,-66.042486 18.290227,-66.043197 18.291052,-66.043613 18.291659,-66.043936 18.292273,-66.044214 18.292982,-66.044499 18.294244,-66.044556 18.295397,-66.04443 18.296365,-66.044082 18.297608,-66.043461 18.298768,-66.042531 18.299969,-66.041006 18.301609,-66.039519 18.303207,-66.035039 18.308037,-66.034274 18.3091,-66.03366 18.310326,-66.033236 18.311744,-66.033103 18.312573,-66.033053 18.31357,-66.033173 18.314849,-66.033533 18.316219,-66.034033 18.317342,-66.03466 18.318351,-66.035312 18.31915,-66.036197 18.319985,-66.037482 18.320922,-66.038918 18.321955,-66.040589 18.323139,-66.041538 18.323781,-66.042702 18.324466,-66.044411 18.325211,-66.046018 18.325674,-66.0481 18.326172,-66.04977 18.326611,-66.050631 18.326923,-66.051978 18.327458,-66.052845 18.327848,-66.05401 18.328449,-66.055459 18.329344,-66.057129 18.330575,-66.058496 18.331746,-66.062058 18.334816,-66.06395 18.336527,-66.065342 18.338035,-66.066734 18.339957,-66.067563 18.341302,-66.06836 18.342858,-66.068848 18.344029,-66.069226 18.34508,-66.069781 18.347025,-66.070004 18.348282,-66.070148 18.34945,-66.070219 18.350716,-66.070206 18.352958,-66.070156 18.355672,-66.070152 18.356614,-66.070001 18.363901,-66.069912 18.369071,-66.069982 18.371443,-66.070165 18.373203,-66.070444 18.375064,-66.071089 18.379328,-66.071247 18.380793,-66.071608 18.383381,-66.071924 18.385369,-66.071988 18.387224,-66.071811 18.388929,-66.071513 18.390136,-66.071273 18.390707,-66.071124 18.390899,-66.070953 18.390971,-66.070795 18.390971,-66.070621 18.390899,-66.070507 18.390761,-66.070475 18.390662,-66.070475 18.390529,-66.070558 18.390349,-66.070713 18.390238,-66.071026 18.390103,-66.07138 18.389959,-66.072016 18.38971,-66.07257 18.389422,-66.072965 18.389236,-66.073301 18.389082,-66.074079 18.388821,-66.074579 18.388695,-66.074693 18.388782,-66.074769 18.389004,-66.074902 18.38959,-66.074943 18.389905,-66.075316 18.391394,-66.075433 18.391913,-66.075401 18.392058,-66.074917 18.392973,-66.074778 18.393048,-66.07468 18.39315,-66.074686 18.3933,-66.074686 18.393373,-66.074288 18.39409,-66.074152 18.394144,-66.074019 18.394249,-66.073595 18.395105,-66.073582 18.395264,-66.073658 18.395405)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'CM','CENTRO_MEDICO', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute where route = 'CM' and direction = 'TERM_CAGUAS';with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.073804 18.395471,-66.073933 18.39545,-66.074041 18.395381,-66.074111 18.395285,-66.074525 18.394453,-66.074531 18.394327,-66.074493 18.394225,-66.074516 18.39412,-66.074857 18.393436,-66.074977 18.393352,-66.075053 18.393192,-66.075022 18.393084,-66.074911 18.39303,-66.07469 18.393033,-66.074512 18.393048,-66.074323 18.392994,-66.074145 18.392961,-66.073816 18.39297,-66.07331 18.393099,-66.073127 18.393156,-66.072994 18.393036,-66.072611 18.39264,-66.072367 18.392451,-66.072159 18.392331,-66.071975 18.392298,-66.071773 18.392343,-66.071576 18.392361,-66.07139 18.392322,-66.071307 18.392202,-66.071288 18.392085,-66.071306 18.391907,-66.071743 18.390898,-66.072325 18.389445,-66.072458 18.388514,-66.072407 18.387307,-66.07204 18.384713,-66.071578 18.381303,-66.071477 18.380204,-66.071623 18.379375,-66.072078 18.378048,-66.072515 18.376607,-66.072983 18.375941,-66.073882 18.374941,-66.074799 18.37398,-66.075704 18.373025,-66.07664 18.371993,-66.078048 18.370533,-66.079273 18.369263,-66.080494 18.368002,-66.082474 18.36596,-66.083591 18.364822,-66.084417 18.363925,-66.085119 18.363042,-66.085819 18.361982,-66.08654 18.360432,-66.087255 18.358847,-66.08866 18.355772,-66.090153 18.352481,-66.09133 18.349881,-66.09207 18.348055,-66.093095 18.345058,-66.093842 18.34286,-66.094544 18.34113,-66.096417 18.336547,-66.097676 18.33355,-66.098635 18.331149,-66.098866 18.330416,-66.098926 18.329662,-66.098891 18.329185,-66.09879 18.328587,-66.098467 18.327479,-66.098085 18.326295,-66.097847 18.325433,-66.097695 18.32437,-66.097683 18.323502,-66.097749 18.322835,-66.097809 18.322136,-66.097794 18.321463,-66.097689 18.320967,-66.097423 18.320096,-66.096971 18.319099,-66.09637 18.317958,-66.095949 18.317234,-66.095642 18.316811,-66.095294 18.31645,-66.094835 18.316066,-66.094326 18.315756,-66.093551 18.315444,-66.091785 18.314825,-66.090185 18.314264,-66.088859 18.313822,-66.088033 18.313558,-66.086888 18.313233,-66.085762 18.312933,-66.084408 18.312588,-66.083332 18.312308,-66.082035 18.311978,-66.081082 18.311711,-66.080247 18.311428,-66.07969 18.311167,-66.078972 18.310749,-66.077792 18.309993,-66.075897 18.308749,-66.075112 18.308205,-66.074603 18.307788,-66.07353 18.306752,-66.073048 18.306307,-66.072517 18.305926,-66.071849 18.305484,-66.071213 18.30516,-66.070514 18.304847,-66.069638 18.304535,-66.06848 18.30416,-66.067505 18.303835,-66.066733 18.303532,-66.065733 18.303096,-66.064829 18.302631,-66.064136 18.302249,-66.063307 18.301727,-66.062668 18.301306,-66.062035 18.300816,-66.061712 18.300549,-66.060899 18.299828,-66.060529 18.299501,-66.059858 18.298909,-66.059086 18.298263,-66.058175 18.297632,-66.057612 18.297263,-66.05653 18.29668,-66.055866 18.296383,-66.054996 18.296016,-66.054069 18.295755,-66.053255 18.295494,-66.052398 18.295082,-66.052022 18.294851,-66.051594 18.294554,-66.050838 18.293938,-66.050271 18.293506,-66.049717 18.293073,-66.049028 18.292508,-66.047908 18.291586,-66.047297 18.291093,-66.046826 18.290661,-66.046348 18.290198,-66.04581 18.289609,-66.045437 18.289141,-66.04488 18.288369,-66.044431 18.287657,-66.043984 18.286804,-66.043763 18.286332,-66.043371 18.285308,-66.043231 18.284836,-66.043108 18.284397,-66.04295 18.283713,-66.042836 18.282986,-66.042725 18.282204,-66.042567 18.281102,-66.042467 18.280533,-66.041965 18.277726,-66.041906 18.277425,-66.041503 18.275022,-66.041428 18.274573,-66.041332 18.274078,-66.041247 18.273171,-66.041067 18.272403,-66.040823 18.271558,-66.040597 18.270867,-66.040041 18.268977,-66.039465 18.267067,-66.038354 18.263159,-66.038278 18.262837,-66.037948 18.261826,-66.037808 18.261405,-66.037533 18.260441,-66.037245 18.259491,-66.036967 18.258475,-66.036849 18.258006,-66.036688 18.257256,-66.036553 18.256495,-66.03642 18.255185,-66.036366 18.254648,-66.036334 18.253936,-66.035837 18.246462,-66.035737 18.244966,-66.035627 18.243314,-66.035473 18.241293,-66.035425 18.240734,-66.035397 18.240146,-66.035392 18.240022,-66.035397 18.239854,-66.035428 18.239655,-66.035496 18.239438,-66.035531 18.239222,-66.035525 18.239142,-66.035306 18.238868,-66.03516 18.238678,-66.034884 18.238448,-66.034553 18.238093,-66.034276 18.237883,-66.033949 18.237697,-66.033557 18.237552,-66.033066 18.237465,-66.032327 18.237345,-66.032335 18.236549,-66.032429 18.236418,-66.032787 18.235982,-66.032839 18.23584,-66.032844 18.235768,-66.032875 18.235749,-66.032903 18.235717,-66.032918 18.235666,-66.032932 18.235611,-66.032959 18.235542,-66.033123 18.235141,-66.033148 18.23507,-66.033125 18.235032,-66.033058 18.235006,-66.032483 18.234838)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'CM','TERM_CAGUAS', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute_stop where route = 'CM' and direction = 'CENTRO_MEDICO'; insert into ref.subroute_stop (stop, stop_order, route, direction) values (8000, 0, 'CM', 'CENTRO_MEDICO'),(8016, 1, 'CM', 'CENTRO_MEDICO');
delete from ref.subroute_stop where route = 'VT' and direction = 'TERM_CAGUAS'; insert into ref.subroute_stop (stop, stop_order, route, direction) values (8004, 0, 'VT', 'TERM_CAGUAS'),(8000, 1, 'VT', 'TERM_CAGUAS');
