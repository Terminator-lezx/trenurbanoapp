delete from ref.subroute_new where route = 'BO' and direction = 'TERM_CAGUAS';with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.053542 18.228265,-66.055463 18.229321,-66.05578 18.229528,-66.05593 18.229693,-66.056021 18.22964,-66.053621 18.228226,-66.053532 18.228153,-66.05351 18.228079,-66.054159 18.225973,-66.054655 18.224211,-66.054551 18.224051,-66.051668 18.222496,-66.050935 18.22224,-66.05047 18.222125,-66.047765 18.221589,-66.047614 18.221741,-66.046876 18.224251,-66.046786 18.224445,-66.039767 18.222618,-66.039435 18.22281,-66.037662 18.226129,-66.037271 18.226768,-66.037096 18.226786,-66.035833 18.226221,-66.035285 18.226486,-66.034951 18.227011,-66.034666 18.227281,-66.034531 18.227491,-66.035129 18.22779,-66.035144 18.22797,-66.033313 18.23061,-66.032698 18.232151,-66.031706 18.234373,-66.0317 18.234536,-66.031856 18.234523,-66.032036 18.234613,-66.031898 18.23499,-66.031915 18.235101,-66.03263 18.235305)'), 32161) geom) insert into ref.subroute_new(route, direction, geom) select 'BO','TERM_CAGUAS', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute_new where route = 'BO' and direction = 'BONNEVILLE';with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.032387 18.235199,-66.031881 18.23508,-66.031726 18.235338,-66.030852 18.235063,-66.030801 18.234956,-66.031163 18.233893,-66.031693 18.232783,-66.031859 18.232466,-66.03224 18.231946,-66.032919 18.230523,-66.033176 18.230073,-66.033958 18.229046,-66.034809 18.227735,-66.035055 18.227088,-66.035444 18.226446,-66.0359 18.226315,-66.03715 18.226918,-66.037339 18.226893,-66.037533 18.226595,-66.038315 18.225076,-66.039582 18.222885,-66.039762 18.222668,-66.046741 18.22454,-66.046775 18.224736,-66.046163 18.226773,-66.046346 18.2269,-66.046994 18.22702,-66.047962 18.226886,-66.048089 18.227096,-66.048295 18.227921,-66.048483 18.227945,-66.049167 18.227735,-66.04942 18.227438,-66.049986 18.226271,-66.05016 18.226255,-66.053356 18.228156)'), 32161) geom) insert into ref.subroute_new(route, direction, geom) select 'BO','BONNEVILLE', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute_stop where route = 'BO' and direction = 'TERM_CAGUAS'; insert into ref.subroute_stop (stop, stop_order, route, direction) values (8006, 0, 'BO', 'TERM_CAGUAS'),(8000, 1, 'BO', 'TERM_CAGUAS');
delete from ref.subroute_stop where route = 'BO' and direction = 'BONNEVILLE'; insert into ref.subroute_stop (stop, stop_order, route, direction) values (8000, 0, 'BO', 'BONNEVILLE'),(8006, 1, 'BO', 'BONNEVILLE');
