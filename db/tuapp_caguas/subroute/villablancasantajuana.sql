delete from ref.subroute where route = 'VJ' and direction = 'VILLA_BLANCA_STA_JUANA';with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.031859 18.234995,-66.031842 18.235046,-66.031833 18.235076,-66.031832 18.235079,-66.031826 18.235099,-66.031826 18.235099,-66.031819 18.235123,-66.031817 18.235129,-66.031795 18.2352,-66.031793 18.235206,-66.031772 18.235273,-66.031768 18.235287,-66.031765 18.235298,-66.031758 18.235319,-66.031758 18.235319,-66.031755 18.235328,-66.031745 18.23536,-66.031735 18.235393,-66.031754 18.235399,-66.031782 18.235409,-66.031795 18.235414,-66.031818 18.235422,-66.031841 18.23543,-66.03191 18.235455,-66.032018 18.235493,-66.032066 18.23551,-66.032081 18.235515,-66.032183 18.235551,-66.032331 18.235603,-66.032333 18.235604,-66.032357 18.235612,-66.032376 18.235619,-66.032418 18.235634,-66.032678 18.235726,-66.032705 18.235771,-66.032715 18.235821,-66.032702 18.235893,-66.032676 18.235976,-66.032582 18.2361,-66.032305 18.236451,-66.032194 18.236617,-66.032136 18.236699,-66.032106 18.236747,-66.031952 18.23689,-66.031647 18.237165,-66.031623 18.237184,-66.031597 18.237201,-66.031581 18.237218,-66.031577 18.237236,-66.031577 18.23726,-66.03158 18.237281,-66.03159 18.237302,-66.031634 18.237316,-66.032553 18.23749,-66.032999 18.237573,-66.033053 18.237585,-66.033117 18.237587,-66.033221 18.237595,-66.033333 18.237608,-66.033499 18.237643,-66.033561 18.237658,-66.033789 18.237732,-66.033973 18.237818,-66.034075 18.237878,-66.034169 18.237937,-66.034273 18.238023,-66.034335 18.238079,-66.034406 18.238156,-66.034476 18.238284,-66.034588 18.238431,-66.034806 18.238633,-66.035023 18.238838,-66.035077 18.238887,-66.035109 18.238928,-66.035154 18.238994,-66.035179 18.239053,-66.035191 18.239098,-66.035213 18.239188,-66.035214 18.239222,-66.035216 18.239308,-66.035217 18.239319,-66.035218 18.239358,-66.03522 18.23946,-66.035223 18.239539,-66.035227 18.239639,-66.03523 18.239677,-66.03523 18.239683,-66.035232 18.239706,-66.035233 18.239728,-66.035234 18.239741,-66.035241 18.23985,-66.035241 18.239855,-66.035247 18.239944,-66.035255 18.240056,-66.035262 18.240163,-66.035262 18.240167,-66.035273 18.240324,-66.035289 18.240544,-66.03529 18.24056,-66.035294 18.240623,-66.035296 18.240654,-66.035298 18.240681,-66.035299 18.2407,-66.035304 18.240771,-66.035308 18.240817,-66.035309 18.240832,-66.035313 18.240896,-66.035292 18.240971,-66.035277 18.241016,-66.035259 18.241057,-66.035249 18.241087,-66.035245 18.241112,-66.035254 18.241267,-66.035298 18.241978,-66.035325 18.242416,-66.03538 18.243358,-66.035436 18.244183,-66.035497 18.24506,-66.035547 18.246093,-66.035561 18.246334,-66.035564 18.24637,-66.035546 18.246408,-66.035533 18.246437,-66.035473 18.246449,-66.03475 18.246493,-66.03398 18.246534,-66.033762 18.246546,-66.033634 18.246553,-66.033599 18.246545,-66.033572 18.246524,-66.033562 18.246498,-66.033528 18.246089,-66.033409 18.244259,-66.033379 18.243856,-66.033364 18.243715,-66.033361 18.243646,-66.033351 18.243617,-66.033335 18.243593,-66.033305 18.243584,-66.032764 18.243646,-66.032435 18.243716,-66.031881 18.243898,-66.031401 18.244092,-66.031153 18.244235,-66.030937 18.244375,-66.030793 18.244477,-66.030721 18.244524,-66.030684 18.244545,-66.030643 18.244554,-66.030599 18.24453,-66.030565 18.244482,-66.030513 18.24438,-66.030496 18.244306,-66.030494 18.244218,-66.030509 18.244141,-66.030529 18.244067,-66.030557 18.243998,-66.030614 18.243919,-66.030687 18.24386,-66.03074 18.243821,-66.03078 18.243783,-66.030807 18.243724,-66.030828 18.243599,-66.030856 18.243487,-66.030881 18.243298,-66.030891 18.243107,-66.03087 18.242746,-66.030733 18.240849,-66.030717 18.24083,-66.030681 18.240807,-66.030655 18.24081,-66.030528 18.240844,-66.030307 18.240932,-66.030072 18.241063,-66.029903 18.241185,-66.029762 18.241322,-66.029624 18.241475,-66.029404 18.241809,-66.029159 18.242271,-66.028628 18.243256,-66.028456 18.243576,-66.028358 18.243785,-66.028314 18.243931,-66.028251 18.244212,-66.028184 18.244809,-66.028154 18.24511,-66.028154 18.245126,-66.028172 18.245152,-66.028185 18.245163,-66.028233 18.24517,-66.028305 18.245183,-66.028388 18.245212,-66.028524 18.245314,-66.029327 18.245921,-66.029339 18.245936,-66.029348 18.245967,-66.02935 18.245999,-66.029342 18.246049,-66.029319 18.246118,-66.028654 18.247288,-66.027839 18.24874,-66.027821 18.248753,-66.027788 18.248763,-66.027761 18.248769,-66.027722 18.248772,-66.027696 18.248772,-66.027666 18.248769,-66.027639 18.248757,-66.027342 18.248606,-66.027309 18.248597,-66.027272 18.2486,-66.027239 18.248611,-66.02721 18.248626,-66.027174 18.248657,-66.027132 18.248706,-66.027066 18.248813,-66.027034 18.248879,-66.027038 18.248919,-66.027076 18.248957,-66.027139 18.249003,-66.027245 18.24908,-66.027293 18.249114,-66.027303 18.249148,-66.027305 18.249181,-66.027294 18.249217,-66.027258 18.24929,-66.027011 18.249642,-66.026762 18.250016,-66.026759 18.250042,-66.026764 18.250062,-66.026773 18.250082,-66.026789 18.250102,-66.026935 18.25017,-66.027599 18.250439,-66.028138 18.250669,-66.028839 18.250924,-66.028998 18.25097,-66.029112 18.251005,-66.029172 18.251018,-66.029255 18.251034,-66.029299 18.251038,-66.029339 18.251035,-66.029368 18.251024,-66.029384 18.251,-66.029405 18.250935,-66.029539 18.250455,-66.029658 18.249988,-66.029728 18.249767,-66.029741 18.249738,-66.029765 18.249708,-66.029794 18.249685,-66.029826 18.249678,-66.029874 18.249671,-66.029928 18.249676,-66.030069 18.249709,-66.030408 18.249774,-66.03046 18.249787,-66.030537 18.249792,-66.030564 18.24979,-66.030589 18.249777,-66.030629 18.24975,-66.030668 18.249712,-66.030687 18.249663,-66.030718 18.249557,-66.030728 18.249519,-66.030731 18.249492,-66.03073 18.249465,-66.030722 18.249446,-66.030706 18.249425,-66.030692 18.249415,-66.030665 18.249406,-66.030407 18.249361,-66.030043 18.249287,-66.029924 18.24926,-66.029773 18.249222,-66.029716 18.249206,-66.029681 18.249192,-66.029657 18.249176,-66.029647 18.249156,-66.029642 18.249131,-66.029642 18.249094,-66.029745 18.248898,-66.02998 18.24849,-66.030237 18.248106,-66.030242 18.248082,-66.030242 18.248052,-66.030233 18.248023,-66.030212 18.247991,-66.030183 18.247958,-66.030075 18.24787,-66.029955 18.247742,-66.029912 18.247698,-66.02988 18.24766,-66.029865 18.24763,-66.02986 18.247608,-66.029863 18.247563,-66.029875 18.247535,-66.029928 18.247447,-66.030047 18.247259,-66.03005 18.247255,-66.030135 18.247113,-66.030141 18.247103,-66.030228 18.24696,-66.030278 18.24688,-66.030328 18.2468,-66.030357 18.246748,-66.030465 18.24656,-66.030555 18.246408,-66.030605 18.246335,-66.030658 18.24626,-66.030713 18.246183,-66.030736 18.24615,-66.030768 18.246107,-66.030983 18.245843,-66.030998 18.245825,-66.031058 18.245762,-66.031171 18.245659,-66.031185 18.245647,-66.031248 18.245595,-66.031313 18.245543,-66.031457 18.245442,-66.031533 18.245388,-66.031612 18.245333,-66.03163 18.245321,-66.031656 18.245304,-66.031693 18.24528,-66.031777 18.245227,-66.031858 18.245175,-66.031942 18.245127,-66.032025 18.245083,-66.032107 18.245042,-66.032187 18.245005,-66.032343 18.244943,-66.032418 18.244917,-66.032563 18.244872,-66.032568 18.24487,-66.032596 18.244863,-66.032689 18.244841,-66.032731 18.244838,-66.032755 18.244839,-66.032782 18.244845,-66.032799 18.244858,-66.032811 18.244885,-66.03284 18.245357,-66.032834 18.245372,-66.032814 18.245385,-66.032785 18.245403,-66.032748 18.245416,-66.032683 18.245435,-66.032574 18.24548,-66.032485 18.245515,-66.032425 18.24554,-66.032363 18.245567,-66.032243 18.245627,-66.032219 18.245639,-66.032182 18.245658,-66.03198 18.245775,-66.031908 18.245822,-66.031908 18.245822,-66.031835 18.245872,-66.031692 18.245978,-66.031625 18.246037,-66.031607 18.246053,-66.03156 18.246097,-66.031498 18.246158,-66.031445 18.246213,-66.031437 18.246222,-66.031215 18.246485,-66.031181 18.24653,-66.031167 18.24655,-66.031125 18.246612)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'VJ','VILLA_BLANCA_STA_JUANA', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute where route = 'VJ' and direction = 'TERM_CAGUAS';with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.031104 18.246644,-66.031023 18.246782,-66.030827 18.24711,-66.030568 18.247578,-66.030568 18.247605,-66.030577 18.247625,-66.030596 18.247652,-66.030689 18.247714,-66.031085 18.247989,-66.031499 18.248208,-66.031976 18.248394,-66.032322 18.248499,-66.032873 18.248597,-66.032939 18.248602,-66.032987 18.24861,-66.033024 18.248616,-66.033047 18.24863,-66.033059 18.248649,-66.033075 18.248684,-66.03308 18.248778,-66.033108 18.249373,-66.033125 18.249693,-66.033128 18.249716,-66.033143 18.249736,-66.033157 18.249753,-66.033175 18.249769,-66.033199 18.249779,-66.033235 18.249783,-66.033454 18.24977,-66.03363 18.249758,-66.033651 18.249748,-66.033673 18.249733,-66.033688 18.24971,-66.033707 18.249647,-66.033706 18.249247,-66.033675 18.248782,-66.033629 18.248069,-66.03358 18.247451,-66.033526 18.246647,-66.033464 18.245772,-66.033406 18.244861,-66.033362 18.244266,-66.03333 18.243807,-66.033323 18.243704,-66.033325 18.243665,-66.033324 18.243642,-66.033328 18.243625,-66.033345 18.24361,-66.033372 18.2436,-66.033457 18.243591,-66.0341 18.243558,-66.034484 18.243535,-66.035007 18.243505,-66.035307 18.243487,-66.03544 18.243474,-66.035522 18.243463,-66.035559 18.243447,-66.03558 18.243424,-66.035604 18.243393,-66.035615 18.243313,-66.035625 18.24323,-66.035624 18.243205,-66.035618 18.243115,-66.035598 18.242788,-66.035589 18.242659,-66.035569 18.24237,-66.035563 18.242273,-66.035548 18.242102,-66.035546 18.242081,-66.035529 18.241874,-66.035518 18.241748,-66.035493 18.241453,-66.035491 18.241429,-66.035488 18.241402,-66.035484 18.241352,-66.035477 18.241274,-66.035475 18.241234,-66.035451 18.240879,-66.035438 18.240694,-66.035432 18.240619,-66.035427 18.240553,-66.035422 18.240488,-66.035422 18.240485,-66.03541 18.24034,-66.035399 18.240195,-66.035375 18.24,-66.035373 18.239939,-66.035375 18.239888,-66.035391 18.23982,-66.035407 18.239728,-66.035408 18.239627,-66.03543 18.239511,-66.035458 18.239429,-66.035474 18.23938,-66.035503 18.239296,-66.03551 18.239255,-66.035516 18.239219,-66.035514 18.239184,-66.035504 18.239141,-66.03546 18.239078,-66.035436 18.239045,-66.035391 18.238991,-66.035376 18.238973,-66.035232 18.238803,-66.035204 18.238774,-66.035179 18.238749,-66.03503 18.238594,-66.034978 18.238547,-66.034927 18.2385,-66.03489 18.238465,-66.0348 18.238369,-66.034743 18.238305,-66.03459 18.238144,-66.034513 18.238072,-66.034416 18.237998,-66.034388 18.237977,-66.034241 18.237869,-66.034101 18.237787,-66.033935 18.237713,-66.033793 18.23765,-66.033548 18.237571,-66.033506 18.237563,-66.033463 18.237556,-66.033191 18.237508,-66.032873 18.237445,-66.032456 18.237368,-66.03239 18.237357,-66.032348 18.237349,-66.032324 18.237343,-66.032318 18.237318,-66.032332 18.236955,-66.032332 18.236939,-66.032334 18.236882,-66.032329 18.236543,-66.032349 18.236501,-66.032361 18.236478,-66.032475 18.236327,-66.032477 18.236324,-66.032644 18.236113,-66.032658 18.236095,-66.032677 18.236067,-66.032704 18.236026,-66.032724 18.235996,-66.032794 18.235867,-66.032827 18.235769,-66.032827 18.235767,-66.032828 18.235765,-66.032867 18.235684,-66.032873 18.235678,-66.032911 18.235635,-66.032922 18.235623,-66.032927 18.235612,-66.032966 18.235527,-66.033003 18.235421,-66.033016 18.235381,-66.033047 18.23529,-66.033085 18.235196,-66.033088 18.235188,-66.033103 18.23515,-66.033137 18.235086,-66.033162 18.235029,-66.033163 18.235008,-66.03318 18.234975,-66.033184 18.234969,-66.033192 18.234953,-66.033195 18.234949,-66.033198 18.234943,-66.033205 18.23493,-66.033216 18.234905,-66.033216 18.2349,-66.033215 18.234894,-66.033208 18.234871,-66.033189 18.234851,-66.033177 18.234843,-66.033166 18.234835,-66.033143 18.23482,-66.032986 18.234774,-66.032977 18.234771,-66.032949 18.234761,-66.032877 18.234735,-66.032872 18.234733,-66.03277 18.234696,-66.032743 18.234686,-66.032664 18.234662,-66.032664 18.234662,-66.032629 18.234651,-66.032614 18.234648,-66.032608 18.234647,-66.03255 18.234633,-66.032509 18.234625,-66.032473 18.23463,-66.032431 18.234642,-66.032424 18.234643,-66.032386 18.234652,-66.032354 18.234643,-66.032347 18.234642,-66.032328 18.234636,-66.032309 18.234631,-66.032218 18.2346,-66.032121 18.234567,-66.032091 18.23455,-66.032077 18.234549,-66.032055 18.234548,-66.032037 18.234551,-66.032019 18.234561,-66.032008 18.234573,-66.031998 18.234599,-66.031997 18.234602,-66.03199 18.234622,-66.031984 18.234642,-66.031954 18.234731,-66.031939 18.234768,-66.031904 18.23486,-66.031897 18.234878)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'VJ','TERM_CAGUAS', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute_stop where route = 'VJ' and direction = 'VILLA_BLANCA_STA_JUANA'; insert into ref.subroute_stop (stop, stop_order, route, direction) values (8000, 0, 'VJ', 'VILLA_BLANCA_STA_JUANA'),(8032, 1, 'VJ', 'VILLA_BLANCA_STA_JUANA');
delete from ref.subroute_stop where route = 'VJ' and direction = 'TERM_CAGUAS'; insert into ref.subroute_stop (stop, stop_order, route, direction) values (8032, 0, 'VJ', 'TERM_CAGUAS'),(8000, 1, 'VJ', 'TERM_CAGUAS');
