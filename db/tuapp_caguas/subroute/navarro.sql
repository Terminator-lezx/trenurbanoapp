delete from ref.subroute where route = 'NA' and direction = 'TERM_CAGUAS';with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-65.981602 18.221714,-65.981633 18.221839,-65.981729 18.221855,-65.982585 18.221855,-65.98332 18.221838,-65.983823 18.221848,-65.984148 18.221842,-65.98499 18.221832,-65.985227 18.221832,-65.985397 18.221859,-65.985679 18.221918,-65.986147 18.222019,-65.986346 18.222108,-65.986468 18.222182,-65.986718 18.222375,-65.98691 18.222513,-65.98705 18.222592,-65.987202 18.222629,-65.987328 18.222604,-65.987462 18.222552,-65.98766 18.222429,-65.988049 18.22217,-65.988259 18.222057,-65.988547 18.221963,-65.988933 18.221887,-65.98952 18.221855,-65.989883 18.22186,-65.990057 18.221909,-65.990184 18.222015,-65.990325 18.222187,-65.990424 18.222285,-65.990555 18.222382,-65.990666 18.222437,-65.991311 18.222672,-65.991951 18.222901,-65.992067 18.22292,-65.992394 18.222954,-65.992508 18.222975,-65.992776 18.223045,-65.99365 18.223319,-65.994822 18.223706,-65.995444 18.223911,-65.995801 18.224036,-65.995929 18.224086,-65.996082 18.224158,-65.99658 18.224429,-65.997006 18.224645,-65.997306 18.224818,-65.997371 18.224872,-65.997431 18.22494,-65.997462 18.224993,-65.997486 18.225066,-65.9975 18.225182,-65.997494 18.225357,-65.99748 18.225775,-65.997443 18.226188,-65.997408 18.226477,-65.997396 18.226632,-65.997396 18.226965,-65.997427 18.227107,-65.99754 18.227368,-65.997655 18.22759,-65.997779 18.227826,-65.997886 18.228037,-65.997945 18.228146,-65.998316 18.228889,-65.998917 18.230109,-65.999052 18.230412,-65.99935 18.23105,-65.999537 18.231402,-65.999622 18.231545,-65.999748 18.231755,-65.9999 18.23193,-66.000145 18.232117,-66.000367 18.232198,-66.001736 18.232588,-66.002104 18.232683,-66.00245 18.232796,-66.002717 18.232911,-66.002867 18.233009,-66.003044 18.233171,-66.003158 18.233342,-66.00321 18.233612,-66.003197 18.233917,-66.003108 18.234637,-66.003074 18.234969,-66.00301 18.235647,-66.002978 18.2359,-66.002919 18.23615,-66.002876 18.236412,-66.002806 18.237033,-66.002745 18.237591,-66.00269 18.237956,-66.002632 18.238475,-66.002547 18.238964,-66.002503 18.239429,-66.002462 18.239789,-66.002427 18.239995,-66.002357 18.240175,-66.002281 18.240346,-66.002157 18.240535,-66.001787 18.240921,-66.001599 18.241117,-66.001094 18.241637,-66.00088 18.241852,-66.000549 18.242221,-66.000464 18.242357,-66.0004 18.242519,-66.000358 18.242817,-66.000366 18.242981,-66.000394 18.243105,-66.000436 18.243222,-66.000809 18.244138,-66.001098 18.244828,-66.001469 18.245789,-66.001604 18.246097,-66.001696 18.246199,-66.001818 18.24621,-66.00229 18.246044,-66.002475 18.246004,-66.002653 18.245999,-66.002785 18.246014,-66.003035 18.246075,-66.005085 18.246732,-66.00601 18.247009,-66.006308 18.247086,-66.006578 18.247074,-66.00687 18.24695,-66.007116 18.246726,-66.007294 18.246311,-66.007548 18.245569,-66.007786 18.244921,-66.008131 18.243976,-66.008243 18.243623,-66.008774 18.241906,-66.00892 18.24157,-66.009127 18.241322,-66.009547 18.241036,-66.01092 18.240232,-66.011591 18.239824,-66.012085 18.239523,-66.01247 18.239394,-66.012684 18.239366,-66.01291 18.239374,-66.013447 18.239421,-66.014083 18.23956,-66.016285 18.240356,-66.01658 18.240379,-66.016898 18.240297,-66.017276 18.240134,-66.018067 18.239787,-66.018773 18.239517,-66.019545 18.239185,-66.019807 18.239076,-66.022462 18.238003,-66.023521 18.237552,-66.024414 18.237186,-66.024744 18.237072,-66.025046 18.236987,-66.025673 18.236889,-66.026788 18.236763,-66.027364 18.236738,-66.028113 18.236743,-66.02853 18.236773,-66.02911 18.236849,-66.029706 18.236974,-66.029939 18.236877,-66.03024 18.236193,-66.030653 18.235228,-66.030843 18.235171,-66.031714 18.235402,-66.031888 18.235459,-66.032628 18.235717,-66.032824 18.235764,-66.032905 18.23574,-66.032932 18.235663,-66.032947 18.235583,-66.033141 18.23511,-66.033128 18.235051,-66.033064 18.235016,-66.032478 18.234842,-66.032318 18.23504)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'NA','TERM_CAGUAS', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute where route = 'NA' and direction = 'NAVARRO';with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.032303 18.235076,-66.031874 18.235088,-66.031751 18.235295,-66.030787 18.235069,-66.030612 18.235083,-66.030465 18.235204,-66.029891 18.236577,-66.029838 18.236683,-66.029651 18.23681,-66.029457 18.236817,-66.029231 18.236781,-66.02848 18.236654,-66.028135 18.236628,-66.027338 18.236587,-66.026763 18.236598,-66.025652 18.23676,-66.025011 18.236838,-66.024671 18.236939,-66.024308 18.237071,-66.023446 18.237411,-66.022363 18.237861,-66.019594 18.239036,-66.018053 18.23973,-66.01727 18.240057,-66.016804 18.240264,-66.016432 18.240298,-66.016257 18.240257,-66.014108 18.239501,-66.013453 18.239379,-66.012874 18.239307,-66.012657 18.239302,-66.012466 18.239325,-66.012195 18.239417,-66.011551 18.239752,-66.010881 18.240166,-66.00954 18.240976,-66.00924 18.24114,-66.009066 18.241275,-66.008799 18.241576,-66.008547 18.242262,-66.008397 18.242745,-66.007938 18.244124,-66.007656 18.24488,-66.007435 18.245542,-66.007174 18.24631,-66.007026 18.24664,-66.006816 18.246844,-66.006549 18.246945,-66.006323 18.246955,-66.006049 18.246884,-66.005128 18.246608,-66.003039 18.245923,-66.0028 18.245884,-66.002549 18.245872,-66.002274 18.245956,-66.001902 18.246076,-66.001788 18.246094,-66.001722 18.246077,-66.001641 18.246015,-66.001582 18.24592,-66.001509 18.245773,-66.001138 18.244813,-66.000849 18.244123,-66.000476 18.243208,-66.000435 18.243094,-66.000409 18.242976,-66.0004 18.242819,-66.000441 18.242529,-66.000502 18.242374,-66.000584 18.242245,-66.000912 18.241879,-66.001126 18.241664,-66.001631 18.241144,-66.001818 18.240948,-66.002191 18.24056,-66.002319 18.240364,-66.002397 18.24019,-66.002468 18.240006,-66.002513 18.239794,-66.002555 18.239432,-66.002606 18.238977,-66.002669 18.238478,-66.002733 18.237962,-66.002788 18.237596,-66.002849 18.237037,-66.002918 18.236418,-66.002964 18.236145,-66.00302 18.235907,-66.003053 18.235651,-66.003116 18.234973,-66.003151 18.234642,-66.00324 18.23392,-66.003249 18.233597,-66.003194 18.233318,-66.00307 18.233151,-66.002894 18.232995,-66.002739 18.232883,-66.002465 18.232773,-66.002114 18.232653,-66.001748 18.232563,-66.000374 18.232166,-66.000126 18.232067,-65.99993 18.231909,-65.999769 18.231735,-65.999645 18.231527,-65.999567 18.231403,-65.999389 18.231044,-65.999063 18.230355,-65.998674 18.229537,-65.998366 18.228894,-65.998057 18.228258,-65.997923 18.228028,-65.997809 18.227811,-65.99756 18.227351,-65.997475 18.227152,-65.997439 18.227025,-65.997427 18.226875,-65.997428 18.226658,-65.997437 18.226518,-65.997485 18.226193,-65.99754 18.225777,-65.997537 18.225356,-65.997531 18.225178,-65.997521 18.225068,-65.997495 18.224977,-65.997455 18.22491,-65.9974 18.224854,-65.997332 18.224795,-65.997024 18.224623,-65.996603 18.224412,-65.996088 18.224133,-65.995823 18.224013,-65.99546 18.22389,-65.994835 18.223679,-65.993397 18.223208,-65.992657 18.222981,-65.992519 18.222946,-65.992404 18.222932,-65.992061 18.222891,-65.99196 18.222872,-65.991493 18.222708,-65.990682 18.222411,-65.990574 18.222361,-65.990419 18.222243,-65.99035 18.222169,-65.990201 18.221986,-65.990067 18.221877,-65.989867 18.221831,-65.989523 18.221821,-65.988916 18.221854,-65.988543 18.22193,-65.988258 18.222022,-65.98804 18.222137,-65.987671 18.222382,-65.987468 18.222508,-65.987327 18.222572,-65.987205 18.222597,-65.987061 18.222566,-65.986928 18.222488,-65.986755 18.222365,-65.986386 18.222093,-65.986178 18.222001,-65.985913 18.221941,-65.985396 18.221829,-65.985233 18.221804,-65.985001 18.221804,-65.98415 18.221815,-65.983825 18.22182,-65.983319 18.221812,-65.982587 18.221825,-65.981824 18.221827,-65.981702 18.221812,-65.981643 18.221704)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'NA','NAVARRO', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute_stop where route = 'NA' and direction = 'NAVARRO'; insert into ref.subroute_stop (stop, stop_order, route, direction) values (8000, 0, 'NA', 'NAVARRO'),(8023, 1, 'NA', 'NAVARRO');
delete from ref.subroute_stop where route = 'NA' and direction = 'TERM_CAGUAS'; insert into ref.subroute_stop (stop, stop_order, route, direction) values (8023, 0, 'NA', 'TERM_CAGUAS'),(8000, 1, 'NA', 'TERM_CAGUAS');
