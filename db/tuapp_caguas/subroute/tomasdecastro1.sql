delete from ref.subroute_new where route = 'T1' and direction = 'GEORGETTI';with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.020143 18.168063,-66.020161 18.16814,-66.02015 18.168349,-66.020116 18.16844,-66.020057 18.168523,-66.019872 18.168684,-66.019751 18.16877,-66.019628 18.168899,-66.019567 18.169017,-66.019523 18.169139,-66.019534 18.16924,-66.019652 18.169588,-66.019719 18.169979,-66.019716 18.170362,-66.019587 18.170872,-66.018807 18.171198,-66.018378 18.171279,-66.018163 18.171325,-66.017943 18.171432,-66.017584 18.171753,-66.017369 18.171957,-66.017273 18.172288,-66.016956 18.172686,-66.016978 18.173262,-66.016881 18.173659,-66.016833 18.174194,-66.016688 18.174358,-66.016447 18.1745,-66.016436 18.174587,-66.017053 18.175999,-66.017359 18.176243,-66.017613 18.176479,-66.0179 18.176987,-66.017911 18.177329,-66.017949 18.177599,-66.018061 18.177828,-66.018292 18.178216,-66.018415 18.178343,-66.018721 18.178715,-66.018793 18.179008,-66.018844 18.179592,-66.019 18.180101,-66.019003 18.18034,-66.018895 18.180564,-66.018713 18.180758,-66.018686 18.180903,-66.019496 18.182007,-66.019389 18.182741,-66.019496 18.183082,-66.019512 18.183454,-66.019324 18.183607,-66.018987 18.18376,-66.018343 18.183877,-66.018123 18.184005,-66.018048 18.184229,-66.018069 18.184489,-66.018182 18.184708,-66.018338 18.18484,-66.018418 18.184983,-66.018348 18.18533,-66.018364 18.185531,-66.018756 18.185962,-66.01897 18.186476,-66.01911 18.186706,-66.019308 18.186795,-66.020129 18.186731,-66.020617 18.186917,-66.021272 18.187526,-66.021449 18.187572,-66.022575 18.187205,-66.022972 18.187144,-66.023536 18.187383,-66.023809 18.187603,-66.024244 18.18799,-66.024566 18.188426,-66.02471 18.188602,-66.024812 18.188805,-66.025027 18.189198,-66.025279 18.189249,-66.025553 18.18933,-66.02603 18.189514,-66.026223 18.189636,-66.026593 18.189922,-66.026813 18.190263,-66.026695 18.19039,-66.026615 18.190513,-66.026454 18.191588,-66.025928 18.192215,-66.025655 18.19224,-66.02552 18.192684,-66.025488 18.192944,-66.02566 18.193275,-66.025644 18.193805,-66.025349 18.194651,-66.024415 18.19554,-66.023224 18.195288,-66.02323 18.195507,-66.023096 18.195609,-66.022597 18.195639,-66.022345 18.19567,-66.022087 18.195741,-66.021728 18.196052,-66.02146 18.196231,-66.021132 18.196404,-66.02095 18.196501,-66.020794 18.196618,-66.020719 18.196873,-66.020623 18.197178,-66.020451 18.197265,-66.020317 18.197392,-66.02 18.198152,-66.019807 18.198407,-66.019673 18.198605,-66.019695 18.19872,-66.020076 18.198926,-66.020414 18.199176,-66.020515 18.19938,-66.020403 18.199597,-66.020076 18.199719,-66.019738 18.199801,-66.019475 18.19985,-66.019416 18.199868,-66.019342 18.199916,-66.019323 18.199998,-66.019346 18.200077,-66.019421 18.200189,-66.019582 18.200411,-66.019604 18.200546,-66.019571 18.200717,-66.019511 18.200855,-66.019422 18.200912,-66.019164 18.20088,-66.019041 18.200887,-66.018949 18.200923,-66.018904 18.200972,-66.018881 18.201035,-66.018892 18.201156,-66.018944 18.201275,-66.019035 18.201438,-66.019206 18.201563,-66.019293 18.201693,-66.019325 18.201802,-66.019389 18.201953,-66.01941 18.202113,-66.019367 18.20251,-66.019432 18.202888,-66.019497 18.203094,-66.019561 18.203193,-66.020043 18.203326,-66.020172 18.203489,-66.020172 18.203693,-66.020183 18.203948,-66.020279 18.204121,-66.02044 18.204131,-66.020644 18.203876,-66.020752 18.203774,-66.021073 18.203733,-66.021213 18.203825,-66.021427 18.20409,-66.02162 18.204182,-66.021824 18.204172,-66.022028 18.204029,-66.022243 18.203835,-66.022414 18.203672,-66.022618 18.203632,-66.02279 18.203733,-66.02279 18.203978,-66.022833 18.204202,-66.02294 18.204477,-66.02279 18.204763,-66.022726 18.205109,-66.022715 18.20567,-66.022758 18.206085,-66.022865 18.206309,-66.023101 18.206444,-66.023133 18.206521,-66.023364 18.207288,-66.023659 18.208577,-66.023954 18.209545,-66.024034 18.210129,-66.024206 18.210761,-66.024405 18.211456,-66.024566 18.21218,-66.024587 18.212424,-66.024577 18.212664,-66.024442 18.213362,-66.024389 18.213637,-66.024357 18.213897,-66.024351 18.21432,-66.024367 18.214621,-66.024448 18.214763,-66.02477 18.214952,-66.025386 18.215802,-66.025752 18.216197,-66.026331 18.216651,-66.026632 18.216946,-66.026692 18.217104,-66.02666 18.217394,-66.026577 18.2177,-66.026573 18.217875,-66.026606 18.218054,-66.026648 18.21827,-66.026693 18.218732,-66.026708 18.218918,-66.026931 18.22137,-66.027007 18.222055,-66.027071 18.222854,-66.027001 18.223092,-66.026896 18.223312,-66.026728 18.223553,-66.026478 18.223815,-66.026344 18.223954,-66.026311 18.224055,-66.026348 18.224171,-66.026487 18.224375,-66.027175 18.225419,-66.027308 18.225607,-66.027499 18.225826,-66.027661 18.22597,-66.02878 18.226895,-66.029286 18.227297,-66.02964 18.227634,-66.031024 18.228783,-66.032421 18.229944,-66.032547 18.230045,-66.032502 18.230143,-66.032403 18.2304,-66.032116 18.231129,-66.032136 18.231162,-66.032188 18.231184,-66.032942 18.231484,-66.034313 18.231834,-66.036594 18.232425,-66.03665 18.232415,-66.036904 18.231665,-66.036337 18.231495,-66.035228 18.231312)'), 32161) geom) insert into ref.subroute_new(route, direction, geom) select 'T1','GEORGETTI', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute_new where route = 'T1' and direction = 'TOMAS_DE_CASTRO_1';with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.035131 18.231287,-66.034863 18.231256,-66.03442 18.231337,-66.034302 18.231299,-66.033946 18.231032,-66.033312 18.230576,-66.032563 18.23002,-66.032444 18.229925,-66.031743 18.229344,-66.031044 18.228772,-66.029654 18.227613,-66.029327 18.227251,-66.028854 18.226833,-66.028173 18.226292,-66.027581 18.225774,-66.027393 18.225555,-66.027242 18.225378,-66.026989 18.225032,-66.026538 18.22435,-66.026404 18.224158,-66.026381 18.224091,-66.026396 18.223993,-66.026534 18.223852,-66.026781 18.223589,-66.026979 18.223356,-66.02709 18.223122,-66.027146 18.222848,-66.027112 18.222038,-66.027063 18.221366,-66.026838 18.218904,-66.02682 18.218733,-66.026761 18.218255,-66.0267 18.218044,-66.026672 18.217708,-66.026754 18.21741,-66.026773 18.217095,-66.026705 18.216919,-66.026378 18.216607,-66.025787 18.216147,-66.025401 18.215785,-66.02478 18.214942,-66.024458 18.214754,-66.024381 18.214617,-66.024365 18.21432,-66.024371 18.213898,-66.024403 18.213639,-66.024456 18.213364,-66.024591 18.212665,-66.024602 18.212424,-66.02458 18.212178,-66.024419 18.211453,-66.02422 18.210757,-66.024048 18.210126,-66.023968 18.209543,-66.023673 18.208574,-66.023378 18.207285,-66.023147 18.206517,-66.023113 18.206435,-66.022876 18.2063,-66.022772 18.206082,-66.022729 18.205669,-66.02274 18.205111,-66.022804 18.204767,-66.022956 18.204478,-66.022847 18.204199,-66.022804 18.203977,-66.022804 18.203726,-66.022621 18.203617,-66.022407 18.20366,-66.022233 18.203826,-66.022019 18.204019,-66.021819 18.204159,-66.021623 18.204168,-66.021437 18.20408,-66.021223 18.203815,-66.021077 18.203719,-66.020745 18.203762,-66.020633 18.203867,-66.020434 18.204117,-66.020288 18.204108,-66.020197 18.203944,-66.020186 18.203693,-66.020186 18.203484,-66.020052 18.203314,-66.01957 18.203182,-66.01951 18.203088,-66.019446 18.202885,-66.019382 18.20251,-66.019425 18.202113,-66.019403 18.201949,-66.019338 18.201798,-66.019306 18.201687,-66.019217 18.201553,-66.019046 18.201429,-66.018957 18.20127,-66.018911 18.201152,-66.018909 18.201038,-66.018921 18.200983,-66.018955 18.200935,-66.019045 18.200901,-66.019164 18.200893,-66.019422 18.200929,-66.019522 18.200876,-66.019585 18.200723,-66.019618 18.200546,-66.019596 18.200406,-66.019433 18.200182,-66.019361 18.200074,-66.01934 18.199999,-66.01936 18.199926,-66.019424 18.19988,-66.019478 18.199863,-66.019741 18.199814,-66.02008 18.199732,-66.020413 18.199607,-66.020531 18.19938,-66.020425 18.199168,-66.020083 18.198915,-66.019708 18.198712,-66.019688 18.198608,-66.019819 18.198414,-66.020013 18.198158,-66.020329 18.1974,-66.02046 18.197276,-66.020635 18.197188,-66.020733 18.196876,-66.020807 18.196626,-66.020958 18.196512,-66.021139 18.196416,-66.021467 18.196242,-66.021737 18.196063,-66.022094 18.195753,-66.022348 18.195683,-66.022598 18.195653,-66.023101 18.195622,-66.023244 18.195513,-66.023239 18.195305,-66.02442 18.195555,-66.025361 18.194658,-66.025658 18.193807,-66.025674 18.193272,-66.025503 18.192941,-66.025534 18.192686,-66.025665 18.192253,-66.025935 18.192228,-66.026467 18.191594,-66.026628 18.190517,-66.026707 18.190398,-66.026831 18.190264,-66.026604 18.189912,-66.026232 18.189625,-66.026037 18.189502,-66.025557 18.189318,-66.025283 18.189236,-66.025036 18.189186,-66.024825 18.188799,-66.024723 18.188594,-66.024577 18.188418,-66.024254 18.187981,-66.023819 18.187593,-66.023543 18.187372,-66.022974 18.18713,-66.022572 18.187192,-66.021448 18.187558,-66.021279 18.187514,-66.020625 18.186906,-66.020131 18.186717,-66.019311 18.186781,-66.01912 18.186695,-66.018983 18.18647,-66.018768 18.185955,-66.018378 18.185526,-66.018362 18.18533,-66.018433 18.184981,-66.018349 18.184832,-66.018193 18.1847,-66.018083 18.184485,-66.018062 18.18423,-66.018135 18.184013,-66.018348 18.18389,-66.018991 18.183773,-66.019332 18.183618,-66.019527 18.18346,-66.01951 18.18308,-66.019403 18.18274,-66.019511 18.182003,-66.018701 18.1809,-66.018726 18.180764,-66.018907 18.180572,-66.019017 18.180343,-66.019014 18.1801,-66.018858 18.179589,-66.018807 18.179005,-66.018734 18.178709,-66.018426 18.178334,-66.018303 18.178208,-66.018074 18.177822,-66.017962 18.177595,-66.017925 18.177328,-66.017914 18.176984,-66.017625 18.176471,-66.017368 18.176233,-66.017064 18.175991,-66.01645 18.174585,-66.01646 18.174508,-66.016697 18.174368,-66.016847 18.1742,-66.016895 18.173661,-66.016992 18.173263,-66.01697 18.17269,-66.017286 18.172294,-66.017382 18.171964,-66.017594 18.171763,-66.017951 18.171443,-66.018168 18.171338,-66.018381 18.171292,-66.018811 18.17121,-66.0196 18.170882,-66.01973 18.170364,-66.019733 18.169978,-66.019666 18.169585,-66.01955 18.169236,-66.019538 18.16914,-66.019582 18.169023,-66.01964 18.168907,-66.019747 18.168792,-66.019864 18.168705,-66.020069 18.168535,-66.020129 18.168448,-66.02017 18.16835,-66.020178 18.168132,-66.020157 18.168049)'), 32161) geom) insert into ref.subroute_new(route, direction, geom) select 'T1','TOMAS_DE_CASTRO_1', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
