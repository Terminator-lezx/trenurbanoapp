delete from ref.subroute where route = 'CAIMITO' and direction = 'CAIMITO';with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.095582 18.338538,-66.095463 18.338498,-66.095443 18.338717,-66.094517 18.340916,-66.093742 18.342895,-66.092542 18.346436,-66.092017 18.346678,-66.091396 18.346815,-66.090735 18.346732,-66.090585 18.346759,-66.090383 18.346862,-66.090129 18.347084,-66.089981 18.347315,-66.08984 18.347363,-66.089752 18.347242,-66.089793 18.34675,-66.08975 18.346173,-66.089769 18.345937,-66.08993 18.345582,-66.08988 18.34508,-66.089708 18.344861,-66.089255 18.344501,-66.088563 18.344301,-66.088401 18.344172,-66.087925 18.343341,-66.088002 18.342675,-66.087887 18.342442,-66.087436 18.341875,-66.086407 18.341248,-66.086001 18.340692,-66.08557 18.340233,-66.085549 18.340118,-66.085362 18.340105,-66.084976 18.340202,-66.084724 18.340338,-66.084528 18.340515,-66.084402 18.340742,-66.084334 18.341131,-66.084235 18.341285,-66.083925 18.341367,-66.08309 18.341362,-66.082819 18.34161,-66.082611 18.341932,-66.082467 18.342074,-66.08222 18.34211,-66.081812 18.341908,-66.081502 18.34184,-66.081224 18.342343,-66.080608 18.342576,-66.080341 18.342484,-66.079761 18.341911,-66.079621 18.342036,-66.079292 18.342173,-66.079199 18.342275,-66.079164 18.342424,-66.079339 18.343047,-66.079278 18.344017,-66.079078 18.344667,-66.078901 18.344959,-66.078549 18.344963,-66.078173 18.344879,-66.076757 18.344188,-66.076435 18.344112,-66.076068 18.344166,-66.075268 18.344483,-66.074706 18.344747,-66.074111 18.345109,-66.074005 18.345026,-66.073958 18.344876,-66.074069 18.344173,-66.07402 18.344039,-66.073013 18.343938,-66.072639 18.343859,-66.072013 18.343903,-66.071539 18.343814,-66.071288 18.343601,-66.070837 18.343033,-66.071035 18.34274,-66.071092 18.342394,-66.070882 18.341634,-66.070812 18.340739,-66.07069 18.34022,-66.070443 18.339692,-66.069505 18.338596,-66.069132 18.337968,-66.068942 18.337327,-66.068675 18.335501,-66.067717 18.335608,-66.067538 18.335586,-66.067402 18.335488,-66.067315 18.335296,-66.067025 18.333276,-66.06651 18.333332,-66.065887 18.333319,-66.065393 18.333359,-66.064435 18.333567,-66.064144 18.332937,-66.064135 18.332703,-66.06449 18.331472,-66.064617 18.331301,-66.065515 18.330447,-66.065592 18.330278,-66.065612 18.330032,-66.065447 18.329475,-66.06538 18.329026,-66.065238 18.328617,-66.065115 18.32852,-66.065641 18.328358,-66.067368 18.328282,-66.067505 18.328214,-66.067851 18.327915,-66.068103 18.327839,-66.068734 18.327793,-66.069312 18.327933,-66.069623 18.327899,-66.07009 18.328133,-66.070295 18.328181,-66.070798 18.327911,-66.071155 18.327858,-66.071345 18.327981,-66.071683 18.328466,-66.072537 18.329209,-66.072643 18.329267,-66.073192 18.329328,-66.073634 18.329439,-66.075445 18.329021,-66.075673 18.328876,-66.075973 18.328473,-66.076285 18.328286,-66.076608 18.327911,-66.076862 18.327702,-66.077083 18.327654,-66.07746 18.327747,-66.077682 18.327662,-66.077481 18.327551,-66.077024 18.327119,-66.076031 18.326541,-66.075631 18.326104,-66.075549 18.32591,-66.075459 18.325449,-66.075141 18.325061,-66.075065 18.324877,-66.075196 18.324094,-66.075172 18.323759,-66.074895 18.32314,-66.074489 18.322527,-66.073353 18.321798,-66.072415 18.321052,-66.071048 18.320686,-66.070875 18.320564,-66.070329 18.320019,-66.069859 18.319754,-66.069197 18.31948,-66.068809 18.319175,-66.068584 18.318668,-66.068428 18.317693,-66.068445 18.317259,-66.068589 18.316627,-66.068565 18.316365,-66.068261 18.315413,-66.068115 18.314747,-66.067399 18.313653,-66.067038 18.313517,-66.066835 18.313498,-66.066571 18.313561,-66.066046 18.31381,-66.065858 18.31383,-66.065711 18.313792,-66.065284 18.313358,-66.064801 18.312666,-66.064243 18.311988,-66.063936 18.311843,-66.063633 18.311832,-66.063411 18.311902,-66.06268 18.31226,-66.062176 18.312698,-66.061674 18.312981,-66.061153 18.313456,-66.060958 18.313563,-66.060744 18.31358,-66.0606 18.313534,-66.06009 18.313016,-66.059999 18.313004,-66.059859 18.313065,-66.05962 18.313271,-66.059462 18.313556,-66.059309 18.3146,-66.05912 18.314557,-66.058802 18.314568,-66.057802 18.314776,-66.056648 18.315319,-66.056158 18.315485,-66.055677 18.315591,-66.054847 18.315662,-66.054039 18.315507,-66.053797 18.315506,-66.053648 18.315586,-66.053332 18.315977,-66.05308 18.316129,-66.052799 18.316193,-66.052255 18.316193,-66.051891 18.316251,-66.050984 18.316615,-66.050764 18.316743,-66.0503 18.317166,-66.050034 18.317473,-66.049716 18.317991,-66.04954 18.318449,-66.049496 18.318759,-66.049706 18.319076,-66.049826 18.319371,-66.049887 18.31969,-66.049888 18.319986,-66.049756 18.320239,-66.049624 18.320702,-66.049211 18.321562,-66.048723 18.322367,-66.048566 18.322934,-66.048441 18.323059,-66.048066 18.323186,-66.047972 18.323282,-66.04794 18.323531,-66.048006 18.324259,-66.047949 18.324734,-66.047849 18.324806,-66.047088 18.324809,-66.046831 18.324883,-66.046672 18.324991,-66.046058 18.326414,-66.046025 18.326613,-66.046063 18.326886,-66.047276 18.32766,-66.047703 18.327834,-66.048149 18.327876,-66.049118 18.327789,-66.049877 18.327958,-66.050259 18.32787,-66.050547 18.327869,-66.050688 18.328016,-66.050865 18.328501,-66.051002 18.328725,-66.05155 18.329069,-66.052226 18.329996,-66.052698 18.330351,-66.053042 18.330748,-66.05323 18.330849,-66.053893 18.330906,-66.054112 18.331036,-66.054347 18.331282,-66.054685 18.331294,-66.054828 18.331375,-66.054928 18.331791,-66.055175 18.33198,-66.055226 18.332072,-66.055047 18.332442,-66.055066 18.33256,-66.055253 18.332778,-66.055307 18.332944,-66.055165 18.333432,-66.055136 18.333729,-66.055373 18.334092,-66.055318 18.334228,-66.054625 18.334962,-66.054538 18.335144,-66.054512 18.335915,-66.054578 18.337032,-66.054676 18.337197,-66.054899 18.33731,-66.055101 18.337271,-66.055475 18.337088,-66.055732 18.33702,-66.055508 18.338181,-66.055531 18.33887,-66.056224 18.341102,-66.056522 18.341896,-66.057286 18.342647,-66.057506 18.342734,-66.057922 18.342808,-66.058599 18.342829,-66.058793 18.342995,-66.058797 18.34319,-66.058737 18.343288,-66.058433 18.343363,-66.057119 18.343531,-66.056639 18.343649,-66.05588 18.343897,-66.055078 18.344327,-66.055035 18.344712,-66.05496 18.344873,-66.054755 18.345018,-66.054397 18.345084,-66.054266 18.345156,-66.054202 18.345272,-66.054183 18.345505,-66.053975 18.345707,-66.053984 18.345873,-66.054217 18.346671,-66.053964 18.347106,-66.05384 18.347459,-66.05373 18.347873,-66.05373 18.34829,-66.053493 18.34826,-66.053106 18.348315,-66.052949 18.348294,-66.051159 18.347361,-66.05059 18.347209,-66.049908 18.347136,-66.049424 18.34713,-66.048979 18.347246,-66.047511 18.347888,-66.04686 18.347903,-66.04631 18.34832,-66.046058 18.348426,-66.045827 18.348449,-66.045549 18.347952,-66.04532 18.348159,-66.044956 18.348613,-66.044818 18.34893,-66.044697 18.34944,-66.044279 18.350144,-66.044131 18.350274,-66.043844 18.350426,-66.04367 18.35066,-66.043416 18.350804,-66.043145 18.35104,-66.042468 18.351915,-66.042378 18.352337,-66.041926 18.352349,-66.041698 18.352457,-66.041251 18.353388,-66.040605 18.354303,-66.040253 18.35472,-66.040617 18.355092,-66.041066 18.355862,-66.041451 18.357143,-66.042214 18.356954,-66.042692 18.356889,-66.043865 18.356915,-66.044368 18.357006,-66.046674 18.357665,-66.047725 18.357825,-66.05386 18.357984,-66.05502 18.357901,-66.056757 18.357672,-66.058954 18.357468,-66.059362 18.357545,-66.061824 18.357682,-66.062596 18.357868,-66.066379 18.35898,-66.066952 18.359096,-66.06773 18.359161,-66.068862 18.359076,-66.071852 18.358378,-66.072792 18.358303,-66.075349 18.358234,-66.075483 18.35826,-66.075721 18.35844,-66.075837 18.358785,-66.075469 18.360017,-66.075237 18.360448,-66.074405 18.361616,-66.073544 18.363074,-66.074013 18.363382,-66.074371 18.363746,-66.076436 18.36687,-66.076467 18.366997,-66.076425 18.367116,-66.076083 18.367352,-66.075982 18.367489,-66.075986 18.367626,-66.076122 18.367959,-66.077237 18.367488,-66.079619 18.367013,-66.080046 18.367009,-66.080496 18.367064,-66.081265 18.367366,-66.084338 18.36415,-66.085297 18.362942,-66.086031 18.361756,-66.086598 18.36066,-66.088106 18.357341,-66.089608 18.356333,-66.091403 18.354451,-66.091569 18.354143,-66.091586 18.353983,-66.091235 18.352817,-66.091209 18.352597,-66.091241 18.352392,-66.092259 18.349199,-66.092479 18.348842,-66.093229 18.348296,-66.093378 18.348122,-66.093978 18.346407,-66.094022 18.346068,-66.093702 18.343998,-66.093498 18.343799,-66.094237 18.34181,-66.095582 18.338538)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'CAIMITO','CAIMITO', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
