delete from ref.subroute where route = 'LLORENS' and direction = 'PDA_19';with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.038255 18.447063,-66.038761 18.447072,-66.039004 18.447143,-66.042773 18.448818,-66.043001 18.448978,-66.043173 18.449223,-66.044491 18.448558,-66.044873 18.448519,-66.04591 18.448596,-66.046148 18.448521,-66.046862 18.44817,-66.04765 18.448179,-66.047584 18.449329,-66.047582 18.449447,-66.051998 18.450042,-66.052371 18.450143,-66.054118 18.450814,-66.054855 18.450977,-66.057568 18.451261,-66.061668 18.451822,-66.061291 18.453243,-66.0613 18.453251,-66.061527 18.453469,-66.061779 18.454004,-66.062026 18.45422,-66.062398 18.454337,-66.063329 18.454469,-66.063402 18.454531,-66.063422 18.454536,-66.065594 18.454858,-66.065903 18.454849,-66.06619 18.45489,-66.067207 18.454989,-66.067207 18.454989,-66.068209 18.45511,-66.069098 18.45521,-66.069144 18.455226,-66.070391 18.455631,-66.071641 18.456031,-66.071647 18.456033,-66.072076 18.456174,-66.072711 18.456394,-66.074335 18.456944,-66.074358 18.456952,-66.074499 18.456915,-66.07454 18.456782,-66.074533 18.456771,-66.07452 18.45675,-66.074507 18.456729,-66.074494 18.456708,-66.074482 18.456687,-66.074468 18.456666,-66.074456 18.456645,-66.074446 18.456628,-66.074435 18.456611,-66.074425 18.456594,-66.07442 18.456586,-66.0741 18.456088,-66.073806 18.455846,-66.073771 18.455826,-66.073757 18.455819,-66.073738 18.455808,-66.073735 18.455772,-66.073669 18.454195,-66.07365 18.453633,-66.073746 18.45307,-66.073646 18.45304,-66.073638 18.453038,-66.073158 18.452991,-66.071909 18.452515,-66.07149 18.4524,-66.071199 18.452261,-66.07064 18.451878,-66.069758 18.451426,-66.069167 18.451038,-66.06917 18.451034,-66.071399 18.448478,-66.072226 18.44914)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'LLORENS','PDA_19', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute where route = 'LLORENS' and direction = 'LLORENS';with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.072258 18.449165,-66.074439 18.450772,-66.074052 18.451592,-66.073823 18.452537,-66.073641 18.453037,-66.073506 18.453421,-66.072279 18.455126,-66.070617 18.454367,-66.069271 18.454197,-66.068765 18.454195,-66.065546 18.454809,-66.063436 18.454499,-66.063373 18.454413,-66.063579 18.453192,-66.063882 18.452067,-66.057572 18.451229,-66.05486 18.450945,-66.054128 18.450784,-66.052383 18.450113,-66.052005 18.450011,-66.047616 18.449419,-66.047428 18.44937,-66.045149 18.449094,-66.044649 18.449125,-66.044257 18.449284,-66.042197 18.450393,-66.041221 18.451035,-66.039791 18.45159,-66.039438 18.451652,-66.039271 18.451612,-66.03913 18.451469,-66.03804 18.44982,-66.037462 18.449086,-66.037968 18.448364,-66.038124 18.448036,-66.038204 18.447721,-66.038255 18.447063)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'LLORENS','LLORENS', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
