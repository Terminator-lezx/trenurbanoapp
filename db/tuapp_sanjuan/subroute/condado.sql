delete from ref.subroute where route = 'CONDADO' and direction = 'SAN_JUAN';with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.048459 18.452443,-66.04753 18.452311,-66.047365 18.452197,-66.047323 18.452083,-66.047504 18.451227,-66.047579 18.450752,-66.047632 18.449546,-66.047645 18.449492,-66.047714 18.449464,-66.047837 18.449483,-66.050296 18.449826,-66.050338 18.449875,-66.05033 18.449952,-66.050139 18.451355,-66.050208 18.451441,-66.051932 18.451871,-66.053972 18.45217,-66.057482 18.452598,-66.059488 18.452692,-66.061169 18.453197,-66.061444 18.453422,-66.061749 18.454025,-66.062093 18.454294,-66.062499 18.454396,-66.065551 18.454824,-66.066183 18.454888,-66.066308 18.454895,-66.067216 18.454999,-66.069127 18.45522,-66.074379 18.45696,-66.074674 18.457101,-66.074732 18.45716,-66.07552 18.45805,-66.07562 18.458155,-66.075851 18.4583,-66.079521 18.460382,-66.079636 18.460403,-66.08194 18.460769,-66.08288 18.460615,-66.086195 18.460017,-66.086342 18.460011,-66.086408 18.46009,-66.08678 18.461048,-66.087228 18.461686,-66.087837 18.462204,-66.087954 18.462482,-66.087867 18.462753,-66.087565 18.463484,-66.087584 18.463662,-66.087644 18.463812,-66.087779 18.463967,-66.087902 18.464041,-66.091969 18.465686,-66.092397 18.465807,-66.093065 18.465922,-66.09447 18.465973,-66.094744 18.465918,-66.095226 18.465734,-66.095534 18.465683,-66.097473 18.465592,-66.097761 18.465608,-66.100258 18.466147,-66.101394 18.466687,-66.102873 18.467495,-66.103032 18.467525,-66.105382 18.46745,-66.106217 18.467359,-66.106802 18.467223,-66.107965 18.466857,-66.108329 18.466771,-66.10859 18.466736,-66.109353 18.466643,-66.109888 18.466468,-66.110212 18.466332,-66.110388 18.46631,-66.11142 18.466476,-66.111638 18.466456,-66.111792 18.46638,-66.11184 18.466302,-66.111848 18.466133)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'CONDADO','SAN_JUAN', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
delete from ref.subroute where route = 'CONDADO' and direction = 'PARQUE_BARBOSA';with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.111848 18.466094,-66.111834 18.465914,-66.111802 18.465858,-66.111761 18.465832,-66.10846 18.466014,-66.104245 18.466365,-66.103576 18.466275,-66.102379 18.465838,-66.101532 18.465649,-66.097459 18.465167,-66.09364 18.464497,-66.089627 18.462904,-66.088146 18.462206,-66.087744 18.461884,-66.087485 18.461555,-66.087334 18.461172,-66.087286 18.460601,-66.087235 18.460305,-66.087042 18.460076,-66.08676 18.45992,-66.086403 18.459886,-66.081942 18.460738,-66.079606 18.460364,-66.075862 18.458269,-66.075647 18.458114,-66.07555 18.458026,-66.07476 18.457141,-66.07467 18.457013,-66.07454 18.456782,-66.074533 18.456771,-66.07452 18.45675,-66.074507 18.456729,-66.074494 18.456708,-66.074482 18.456687,-66.074468 18.456666,-66.074456 18.456645,-66.074446 18.456628,-66.074435 18.456611,-66.074425 18.456594,-66.07442 18.456586,-66.074139 18.456146,-66.073806 18.455846,-66.073771 18.455827,-66.073771 18.455826,-66.073757 18.455819,-66.073738 18.455808,-66.070712 18.454402,-66.070157 18.454288,-66.069271 18.454197,-66.068765 18.454195,-66.065549 18.454799,-66.062489 18.454354,-66.0621 18.454259,-66.061779 18.454004,-66.06148 18.453404,-66.061179 18.453179,-66.05949 18.452672,-66.05748 18.45257,-66.053969 18.452142,-66.051932 18.451837,-66.050169 18.451387,-66.050152 18.451384,-66.050125 18.451428,-66.04999 18.452456,-66.049874 18.452698,-66.049199 18.452643,-66.048516 18.452452)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'CONDADO','PARQUE_BARBOSA', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
