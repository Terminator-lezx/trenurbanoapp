delete from ref.subroute where route = 'BUEN_CONSEJO' and direction = 'BUEN_CONSEJO';with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.047064 18.397647,-66.043582 18.397605,-66.043479 18.397569,-66.043431 18.397503,-66.043098 18.396346,-66.043103 18.396047,-66.043208 18.395765,-66.043473 18.395438,-66.043767 18.395246,-66.044469 18.395147,-66.04465 18.394822,-66.044969 18.394645,-66.045175 18.394599,-66.046399 18.395008,-66.046568 18.394933,-66.046688 18.394621,-66.048366 18.395176,-66.049369 18.39481,-66.049614 18.394768,-66.049987 18.394772,-66.050433 18.394898,-66.051006 18.395319,-66.051285 18.395375,-66.051554 18.395352,-66.052185 18.395614,-66.052312 18.395581,-66.05241 18.395498,-66.053052 18.394363,-66.053784 18.394754,-66.053189 18.395773,-66.053131 18.395809,-66.052729 18.395603,-66.052416 18.395568,-66.052291 18.395628,-66.052143 18.395632,-66.051553 18.395383,-66.05126 18.395401,-66.051057 18.395362,-66.050866 18.395279,-66.05057 18.395015,-66.050344 18.394886,-66.05007 18.39481,-66.049896 18.394839,-66.049804 18.395726,-66.049483 18.396807,-66.049499 18.396865,-66.049679 18.396953,-66.051709 18.397486,-66.052765 18.397809,-66.052618 18.398357,-66.052563 18.398395,-66.050972 18.398004,-66.049417 18.39768,-66.04709 18.397643)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'BUEN_CONSEJO','BUEN_CONSEJO', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
