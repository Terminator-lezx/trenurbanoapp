delete from ref.subroute where route = 'HILL_BROTHERS' and direction = 'HILL_BROTHERS';with line_tmp as (select ST_Transform(ST_GeomFromEWKT('SRID=4326;LINESTRING(-66.047188 18.397657,-66.046068 18.397656,-66.046003 18.400261,-66.045504 18.400252,-66.045487 18.401692,-66.044743 18.40176,-66.044065 18.401811,-66.043594 18.401849,-66.04341 18.401952,-66.043228 18.401999,-66.042363 18.402067,-66.040962 18.402026,-66.040481 18.401935,-66.039972 18.401762,-66.038022 18.401044,-66.037633 18.400774,-66.037625 18.400765,-66.03668 18.400056,-66.035791 18.399192,-66.035306 18.398738,-66.034923 18.398451,-66.034813 18.398214,-66.034813 18.398081,-66.034744 18.398006,-66.031727 18.397665,-66.031213 18.397606,-66.030431 18.39755,-66.026547 18.397161,-66.026401 18.397147,-66.024115 18.396887,-66.023977 18.396777,-66.023869 18.39637,-66.022243 18.39662,-66.02143 18.396696,-66.016672 18.396814,-66.016466 18.396819,-66.013835 18.396888,-66.013891 18.398318,-66.016477 18.398343,-66.016725 18.400797,-66.01839 18.400551,-66.017958 18.398158,-66.017807 18.396873,-66.017757 18.396829,-66.016749 18.396797,-66.016685 18.396767,-66.016662 18.396692,-66.0166 18.394371,-66.019197 18.394465,-66.019212 18.394338,-66.01976 18.394269,-66.020001 18.393932,-66.020264 18.39382,-66.022014 18.393374,-66.023448 18.393304,-66.023443 18.393198,-66.023315 18.391248,-66.023648 18.391097,-66.024752 18.390956,-66.024859 18.39095,-66.024932 18.390993,-66.025285 18.392119,-66.025811 18.394165,-66.026107 18.394732,-66.026416 18.396159,-66.026541 18.39715,-66.026544 18.397197,-66.030427 18.397586,-66.03056 18.397606,-66.031217 18.397666,-66.031827 18.397745,-66.03469 18.398039,-66.040096 18.398581,-66.040314 18.398551,-66.040282 18.398655,-66.04048 18.400104,-66.041032 18.400212,-66.041455 18.400173,-66.041981 18.400215,-66.043366 18.400216,-66.043372 18.401842,-66.043445 18.40195,-66.043583 18.401985,-66.043751 18.401947,-66.0447 18.401806,-66.045537 18.401722,-66.050548 18.401123,-66.051174 18.401146,-66.051848 18.401322,-66.051794 18.401019,-66.051657 18.400639,-66.051089 18.399894,-66.051575 18.398138,-66.050972 18.398004,-66.049549 18.397694,-66.049549 18.397691,-66.04947 18.397687,-66.047239 18.397656)'), 32161) geom) insert into ref.subroute(route, direction, geom) select 'HILL_BROTHERS','HILL_BROTHERS', ST_AddMeasure(line_tmp.geom, 0, ST_Length(line_tmp.geom)) from line_tmp;
